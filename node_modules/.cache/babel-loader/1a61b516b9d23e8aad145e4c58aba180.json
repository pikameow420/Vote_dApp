{"ast":null,"code":"\"use strict\";\n\nvar _typeof3 = require(\"@babel/runtime-corejs3/helpers/typeof\");\nvar _sliceInstanceProperty = require(\"@babel/runtime-corejs3/core-js-stable/instance/slice\");\nvar _Array$from = require(\"@babel/runtime-corejs3/core-js-stable/array/from\");\nvar _Symbol = require(\"@babel/runtime-corejs3/core-js-stable/symbol\");\nvar _getIteratorMethod = require(\"@babel/runtime-corejs3/core-js/get-iterator-method\");\nvar _Array$isArray = require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\");\nvar _WeakMap = require(\"@babel/runtime-corejs3/core-js-stable/weak-map\");\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\nvar _Object$getOwnPropertyDescriptor = require(\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor\");\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _filter = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/filter\"));\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\nvar _stringify = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/json/stringify\"));\nvar _map = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/map\"));\nvar _trim = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/trim\"));\nvar _find = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/find\"));\nvar _every = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/every\"));\nvar _values = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/values\"));\nvar _bind = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/bind\"));\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/toConsumableArray\"));\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/typeof\"));\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/defineProperty\"));\nvar _ethers = require(\"ethers\");\nvar _events = _interopRequireDefault(require(\"events\"));\nvar _ParseObject = _interopRequireDefault(require(\"./ParseObject\"));\nvar _ParseQuery = _interopRequireDefault(require(\"./ParseQuery\"));\nvar _ParseUser = _interopRequireDefault(require(\"./ParseUser\"));\nvar _ParseACL = _interopRequireDefault(require(\"./ParseACL\"));\nvar _MoralisErd = _interopRequireDefault(require(\"./MoralisErd\"));\nvar _MoralisDot = _interopRequireDefault(require(\"./MoralisDot\"));\nvar _MoralisSol = _interopRequireDefault(require(\"./MoralisSol\"));\nvar _TransferUtils = _interopRequireDefault(require(\"./TransferUtils\"));\nvar _Cloud = require(\"./Cloud\");\nvar _createSigningData = _interopRequireDefault(require(\"./createSigningData\"));\nvar _WalletConnectWeb3Connector = _interopRequireDefault(require(\"./Web3Connector/WalletConnectWeb3Connector\"));\nvar _InjectedWeb3Connector = _interopRequireDefault(require(\"./Web3Connector/InjectedWeb3Connector\"));\nvar _NetworkWeb3Connector = _interopRequireDefault(require(\"./Web3Connector/NetworkWeb3Connector\"));\nvar _ParseError = _interopRequireDefault(require(\"./ParseError\"));\nvar _InternalWeb3Provider = _interopRequireWildcard(require(\"./InternalWeb3Provider\"));\nvar _detectProvider = _interopRequireDefault(require(\"@metamask/detect-provider\"));\nvar _MagicWeb3Connector = _interopRequireDefault(require(\"./Web3Connector/MagicWeb3Connector\"));\nvar _Web3AuthConnector = require(\"./Web3Connector/Web3AuthConnector\");\nvar _context30, _context31, _context32, _context33, _context34, _context35;\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof _WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new _WeakMap();\n  var cacheNodeInterop = new _WeakMap();\n  return (_getRequireWildcardCache = function (nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || _typeof3(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n  var cache = _getRequireWildcardCache(nodeInterop);\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = _Object$defineProperty && _Object$getOwnPropertyDescriptor ? _Object$getOwnPropertyDescriptor(obj, key) : null;\n      if (desc && (desc.get || desc.set)) {\n        _Object$defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj.default = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof _Symbol !== \"undefined\" && _getIteratorMethod(o) || o[\"@@iterator\"];\n  if (!it) {\n    if (_Array$isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function () {};\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function () {\n      it = it.call(o);\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  var _context36;\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = _sliceInstanceProperty(_context36 = Object.prototype.toString.call(o)).call(_context36, 8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return _Array$from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}\nvar MoralisEmitter = new _events.default();\nvar WARNING = 'Non ethereum enabled browser';\nvar ERROR_WEB3_MISSING = 'Missing web3 instance, make sure to call Moralis.enableWeb3() or Moralis.authenticate()';\nvar MoralisWeb3 = /*#__PURE__*/function () {\n  function MoralisWeb3() {\n    (0, _classCallCheck2.default)(this, MoralisWeb3);\n  }\n  (0, _createClass2.default)(MoralisWeb3, null, [{\n    key: \"addListener\",\n    value:\n    // Ethers.js instance that will be set after calling enableWeb3\n    // Internal web3 provider, containing the Ethers.js Web3 library for internal usage for handling transactions, contracts etc.\n    function (eventName, listener) {\n      MoralisEmitter.on(eventName, listener);\n      return function () {\n        return MoralisEmitter.removeListener(eventName, listener);\n      };\n    }\n  }, {\n    key: \"on\",\n    value: function (eventName, listener) {\n      MoralisEmitter.on(eventName, listener);\n      return function () {\n        return MoralisEmitter.removeListener(eventName, listener);\n      };\n    }\n  }, {\n    key: \"once\",\n    value: function (eventName, listener) {\n      MoralisEmitter.once(eventName, listener);\n      return function () {\n        return MoralisEmitter.removeListener(eventName, listener);\n      };\n    }\n  }, {\n    key: \"removeListener\",\n    value: function (eventName, listener) {\n      return MoralisEmitter.removeListener(eventName, listener);\n    }\n  }, {\n    key: \"off\",\n    value: function (eventName, listener) {\n      return MoralisEmitter.off(eventName, listener);\n    }\n  }, {\n    key: \"removeAllListeners\",\n    value: function (eventName, listener) {\n      return MoralisEmitter.removeAllListeners(eventName, listener);\n    }\n  }, {\n    key: \"isWeb3Enabled\",\n    value: function () {\n      return this.ensureWeb3IsInstalled();\n    }\n  }, {\n    key: \"handleWeb3AccountChanged\",\n    value: function (account) {\n      MoralisEmitter.emit(_InternalWeb3Provider.InternalWeb3Events.ACCOUNT_CHANGED, account);\n    }\n  }, {\n    key: \"handleWeb3ChainChanged\",\n    value: function (chainId) {\n      var _this$internalWeb3Pro;\n      this.web3 = (_this$internalWeb3Pro = this.internalWeb3Provider) === null || _this$internalWeb3Pro === void 0 ? void 0 : _this$internalWeb3Pro.web3;\n      MoralisEmitter.emit(_InternalWeb3Provider.InternalWeb3Events.CHAIN_CHANGED, chainId);\n    }\n  }, {\n    key: \"handleWeb3Connect\",\n    value: function (connectInfo) {\n      MoralisEmitter.emit(_InternalWeb3Provider.InternalWeb3Events.PROVIDER_CONNECT, connectInfo);\n    }\n  }, {\n    key: \"handleWeb3Disconnect\",\n    value: function (error) {\n      if ((error === null || error === void 0 ? void 0 : error.message) === 'MetaMask: Disconnected from chain. Attempting to connect.') {\n        return;\n      }\n      this.cleanup();\n      MoralisEmitter.emit(_InternalWeb3Provider.InternalWeb3Events.PROVIDER_DISCONNECT, error);\n    }\n  }, {\n    key: \"enableWeb3\",\n    value: function () {\n      var _enableWeb = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {\n        var _this = this;\n        var options,\n          _options$connector,\n          Connector,\n          connector,\n          anyNetwork,\n          provider,\n          chainId,\n          account,\n          internalWeb3,\n          _yield$this$internalW,\n          web3,\n          _args = arguments;\n        return _regenerator.default.wrap(function (_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                options = _args.length > 0 && _args[0] !== undefined ? _args[0] : {};\n                if (!this.isEnablingWeb3) {\n                  _context.next = 3;\n                  break;\n                }\n                throw new Error('Cannot execute Moralis.enableWeb3(), as Moralis Moralis.enableWeb3() already has been called, but is not finished yet ');\n              case 3:\n                _context.prev = 3;\n                this.isEnablingWeb3 = true;\n                if (this.speedyNodeApiKey) {\n                  options.speedyNodeApiKey = this.speedyNodeApiKey;\n                  options.provider = 'network';\n                }\n                Connector = (_options$connector = options === null || options === void 0 ? void 0 : options.connector) !== null && _options$connector !== void 0 ? _options$connector : MoralisWeb3.getWeb3Connector(options === null || options === void 0 ? void 0 : options.provider);\n                connector = new Connector(options);\n                anyNetwork = (options === null || options === void 0 ? void 0 : options.anyNetwork) === true ? true : false;\n                this.internalWeb3Provider = new _InternalWeb3Provider.default(connector, anyNetwork, options.privateKey);\n                this.internalWeb3Provider.on(_InternalWeb3Provider.InternalWeb3Events.ACCOUNT_CHANGED, function (args) {\n                  return _this.handleWeb3AccountChanged(args);\n                });\n                this.internalWeb3Provider.on(_InternalWeb3Provider.InternalWeb3Events.CHAIN_CHANGED, function (args) {\n                  return _this.handleWeb3ChainChanged(args);\n                });\n                this.internalWeb3Provider.on(_InternalWeb3Provider.InternalWeb3Events.PROVIDER_CONNECT, function (args) {\n                  return _this.handleWeb3Connect(args);\n                });\n                this.internalWeb3Provider.on(_InternalWeb3Provider.InternalWeb3Events.PROVIDER_DISCONNECT, function (args) {\n                  return _this.handleWeb3Disconnect(args);\n                });\n                _context.prev = 14;\n                _context.next = 17;\n                return this.internalWeb3Provider.activate(options);\n              case 17:\n                _yield$this$internalW = _context.sent;\n                provider = _yield$this$internalW.provider;\n                chainId = _yield$this$internalW.chainId;\n                account = _yield$this$internalW.account;\n                internalWeb3 = _yield$this$internalW.web3;\n                if (provider) {\n                  _context.next = 24;\n                  break;\n                }\n                throw new Error('Failed to activate, no provider returned');\n              case 24:\n                _context.next = 31;\n                break;\n              case 26:\n                _context.prev = 26;\n                _context.t0 = _context[\"catch\"](14);\n                _context.next = 30;\n                return this.cleanup();\n              case 30:\n                throw _context.t0;\n              case 31:\n                web3 = internalWeb3;\n                this.web3 = internalWeb3;\n                MoralisEmitter.emit(_InternalWeb3Provider.InternalWeb3Events.WEB3_ENABLED, {\n                  chainId: chainId,\n                  account: account,\n                  connector: connector,\n                  provider: provider,\n                  web3: web3\n                });\n                return _context.abrupt(\"return\", web3);\n              case 37:\n                _context.prev = 37;\n                _context.t1 = _context[\"catch\"](3);\n                throw _context.t1;\n              case 40:\n                _context.prev = 40;\n                this.isEnablingWeb3 = false;\n                return _context.finish(40);\n              case 43:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[3, 37, 40, 43], [14, 26]]);\n      }));\n      return function () {\n        return _enableWeb.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"isDotAuth\",\n    value: function (options) {\n      switch (options === null || options === void 0 ? void 0 : options.type) {\n        case 'dot':\n        case 'polkadot':\n        case 'kusama':\n          return true;\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: \"isElrondAuth\",\n    value: function (options) {\n      switch (options === null || options === void 0 ? void 0 : options.type) {\n        case 'erd':\n        case 'elrond':\n          return true;\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: \"isSolAuth\",\n    value: function (options) {\n      switch (options === null || options === void 0 ? void 0 : options.type) {\n        case 'sol':\n          return true;\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: \"getWeb3Connector\",\n    value: function (provider) {\n      switch (provider) {\n        case 'walletconnect':\n        case 'walletConnect':\n        case 'wc':\n          return _WalletConnectWeb3Connector.default;\n        case 'network':\n          return _NetworkWeb3Connector.default;\n        case 'magicLink':\n          return _MagicWeb3Connector.default;\n        case 'web3Auth':\n          return _Web3AuthConnector.Web3Auth;\n        default:\n          return _InjectedWeb3Connector.default;\n      }\n    }\n  }, {\n    key: \"deactivateWeb3\",\n    value: function () {\n      var _deactivateWeb = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n        return _regenerator.default.wrap(function (_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", this.cleanup());\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n      return function () {\n        return _deactivateWeb.apply(this, arguments);\n      };\n    }()\n    /**\n     * Cleanup previously established provider\n     */\n  }, {\n    key: \"cleanup\",\n    value: function () {\n      var _cleanup = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3() {\n        return _regenerator.default.wrap(function (_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!this.isEnablingWeb3) {\n                  _context3.next = 2;\n                  break;\n                }\n                return _context3.abrupt(\"return\");\n              case 2:\n                if (this.web3 && this.internalWeb3Provider) {\n                  MoralisEmitter.emit(_InternalWeb3Provider.InternalWeb3Events.WEB3_DEACTIVATED, {\n                    connector: this.internalWeb3Provider.connector,\n                    provider: this.internalWeb3Provider.provider\n                  });\n                }\n                if (!this.internalWeb3Provider) {\n                  _context3.next = 15;\n                  break;\n                }\n                this.internalWeb3Provider.removeListener(_InternalWeb3Provider.InternalWeb3Events.ACCOUNT_CHANGED, this.handleWeb3AccountChanged);\n                this.internalWeb3Provider.removeListener(_InternalWeb3Provider.InternalWeb3Events.CHAIN_CHANGED, this.handleWeb3ChainChanged);\n                this.internalWeb3Provider.removeListener(_InternalWeb3Provider.InternalWeb3Events.PROVIDER_CONNECT, this.handleWeb3Connect);\n                this.internalWeb3Provider.removeListener(_InternalWeb3Provider.InternalWeb3Events.PROVIDER_DISCONNECT, this.handleWeb3Disconnect); // For example, if walletconnect has been enabled, then later on metamask, then wc is not the internalProvider, but still has an active connection\n\n                _context3.prev = 8;\n                _context3.next = 11;\n                return this.internalWeb3Provider.deactivate();\n              case 11:\n                _context3.next = 15;\n                break;\n              case 13:\n                _context3.prev = 13;\n                _context3.t0 = _context3[\"catch\"](8);\n              case 15:\n                this.internalWeb3Provider = null;\n                this.web3 = null;\n              case 17:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[8, 13]]);\n      }));\n      return function () {\n        return _cleanup.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"authenticate\",\n    value: function () {\n      var _authenticate = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee4(options) {\n        var isLoggedIn, _this$getInternalWeb, account, internalWeb3, signer, message, data, ethAddress, signature, authData, user;\n        return _regenerator.default.wrap(function (_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return _ParseUser.default.currentAsync();\n              case 2:\n                isLoggedIn = _context4.sent;\n                if (!isLoggedIn) {\n                  _context4.next = 6;\n                  break;\n                }\n                _context4.next = 6;\n                return _ParseUser.default.logOut();\n              case 6:\n                if (!MoralisWeb3.isDotAuth(options)) {\n                  _context4.next = 8;\n                  break;\n                }\n                return _context4.abrupt(\"return\", _MoralisDot.default.authenticate(options));\n              case 8:\n                if (!MoralisWeb3.isElrondAuth(options)) {\n                  _context4.next = 10;\n                  break;\n                }\n                return _context4.abrupt(\"return\", _MoralisErd.default.authenticate(options));\n              case 10:\n                if (!MoralisWeb3.isSolAuth(options)) {\n                  _context4.next = 12;\n                  break;\n                }\n                return _context4.abrupt(\"return\", _MoralisSol.default.authenticate(options));\n              case 12:\n                _context4.next = 14;\n                return this.enableWeb3(options);\n              case 14:\n                _this$getInternalWeb = this.getInternalWeb3Provider(), account = _this$getInternalWeb.account, internalWeb3 = _this$getInternalWeb.web3, signer = _this$getInternalWeb.signer;\n                if (account) {\n                  _context4.next = 17;\n                  break;\n                }\n                throw new Error('Cannot authenticate, no account returned from provider');\n              case 17:\n                message = (options === null || options === void 0 ? void 0 : options.signingMessage) || MoralisWeb3.getSigningData();\n                _context4.next = 20;\n                return (0, _createSigningData.default)(message);\n              case 20:\n                data = _context4.sent;\n                ethAddress = account.toLowerCase();\n                if (ethAddress) {\n                  _context4.next = 24;\n                  break;\n                }\n                throw new Error('Address not found');\n              case 24:\n                _context4.next = 26;\n                return signer.signMessage(data);\n              case 26:\n                signature = _context4.sent;\n                if (signature) {\n                  _context4.next = 29;\n                  break;\n                }\n                throw new Error('Data not signed');\n              case 29:\n                authData = {\n                  id: ethAddress,\n                  signature: signature,\n                  data: data\n                };\n                _context4.next = 32;\n                return _ParseUser.default.logInWith('moralisEth', {\n                  authData: authData\n                });\n              case 32:\n                user = _context4.sent;\n                if (user) {\n                  _context4.next = 35;\n                  break;\n                }\n                throw new Error('Could not get user');\n              case 35:\n                _context4.next = 37;\n                return user.setACL(new _ParseACL.default(user));\n              case 37:\n                user.addAllUnique('accounts', [ethAddress]);\n                user.set('ethAddress', ethAddress);\n                _context4.next = 41;\n                return user.save(null, options);\n              case 41:\n                return _context4.abrupt(\"return\", user);\n              case 42:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n      return function () {\n        return _authenticate.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"link\",\n    value: function () {\n      var _link = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee5(account, options) {\n        var _this$getInternalWeb2, signer, message, user, ethAddress, EthAddress, query, ethAddressRecord, data, signature, authData;\n        return _regenerator.default.wrap(function (_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _this$getInternalWeb2 = this.getInternalWeb3Provider(), signer = _this$getInternalWeb2.signer;\n                message = (options === null || options === void 0 ? void 0 : options.signingMessage) || MoralisWeb3.getSigningData();\n                _context5.next = 4;\n                return _ParseUser.default.currentAsync();\n              case 4:\n                user = _context5.sent;\n                ethAddress = account.toLowerCase();\n                EthAddress = _ParseObject.default.extend('_EthAddress');\n                query = new _ParseQuery.default(EthAddress);\n                _context5.next = 10;\n                return query.get(ethAddress).catch(function () {\n                  return null;\n                });\n              case 10:\n                ethAddressRecord = _context5.sent;\n                if (ethAddressRecord) {\n                  _context5.next = 23;\n                  break;\n                }\n                _context5.next = 14;\n                return (0, _createSigningData.default)(message);\n              case 14:\n                data = _context5.sent;\n                _context5.next = 17;\n                return signer.signMessage(data);\n              case 17:\n                signature = _context5.sent;\n                if (signature) {\n                  _context5.next = 20;\n                  break;\n                }\n                throw new Error('Data not signed');\n              case 20:\n                authData = {\n                  id: ethAddress,\n                  signature: signature,\n                  data: data\n                };\n                _context5.next = 23;\n                return user.linkWith('moralisEth', {\n                  authData: authData\n                });\n              case 23:\n                user.addAllUnique('accounts', [ethAddress]);\n                user.set('ethAddress', ethAddress);\n                _context5.next = 27;\n                return user.save(null, options);\n              case 27:\n                return _context5.abrupt(\"return\", user);\n              case 28:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n      return function () {\n        return _link.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"unlink\",\n    value: function () {\n      var _unlink = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee6(account) {\n        var _user$get;\n        var accountsLower, EthAddress, query, ethAddressRecord, user, accounts, nextAccounts;\n        return _regenerator.default.wrap(function (_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                accountsLower = account.toLowerCase();\n                EthAddress = _ParseObject.default.extend('_EthAddress');\n                query = new _ParseQuery.default(EthAddress);\n                _context6.next = 5;\n                return query.get(accountsLower);\n              case 5:\n                ethAddressRecord = _context6.sent;\n                _context6.next = 8;\n                return ethAddressRecord.destroy();\n              case 8:\n                _context6.next = 10;\n                return _ParseUser.default.currentAsync();\n              case 10:\n                user = _context6.sent;\n                accounts = (_user$get = user.get('accounts')) !== null && _user$get !== void 0 ? _user$get : [];\n                nextAccounts = (0, _filter.default)(accounts).call(accounts, function (v) {\n                  return v !== accountsLower;\n                });\n                user.set('accounts', nextAccounts);\n                user.set('ethAddress', nextAccounts[0]);\n                _context6.next = 17;\n                return user._unlinkFrom('moralisEth');\n              case 17:\n                _context6.next = 19;\n                return user.save();\n              case 19:\n                return _context6.abrupt(\"return\", user);\n              case 20:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n      return function () {\n        return _unlink.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"initPlugins\",\n    value: function () {\n      var _initPlugins = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee8(installedPlugins) {\n        var _this2 = this;\n        var specs, allPlugins;\n        return _regenerator.default.wrap(function (_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                _context10.t0 = installedPlugins;\n                if (_context10.t0) {\n                  _context10.next = 5;\n                  break;\n                }\n                _context10.next = 4;\n                return (0, _Cloud.run)('getPluginSpecs');\n              case 4:\n                _context10.t0 = _context10.sent;\n              case 5:\n                specs = _context10.t0;\n                if (!this.Plugins) this.Plugins = {};\n                if (specs) {\n                  _context10.next = 9;\n                  break;\n                }\n                return _context10.abrupt(\"return\");\n              case 9:\n                allPlugins = this.Plugins;\n                (0, _forEach.default)(specs).call(specs, function (plugin) {\n                  var _context7;\n                  allPlugins[plugin.name] = {};\n                  (0, _forEach.default)(_context7 = plugin.functions).call(_context7, function (f) {\n                    allPlugins[plugin.name][f] = /*#__PURE__*/function () {\n                      var _ref = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee7(params, options) {\n                        var _context8;\n                        var response, error, triggerReturn;\n                        return _regenerator.default.wrap(function (_context9) {\n                          while (1) {\n                            switch (_context9.prev = _context9.next) {\n                              case 0:\n                                if (!options) options = {};\n                                _context9.next = 3;\n                                return (0, _Cloud.run)((0, _concat.default)(_context8 = \"\".concat(plugin.name, \"_\")).call(_context8, f), params);\n                              case 3:\n                                response = _context9.sent;\n                                if (response.data.success) {\n                                  _context9.next = 7;\n                                  break;\n                                }\n                                error = (0, _stringify.default)(response.data.data, null, 2);\n                                throw new Error(\"Something went wrong\\n\".concat(error));\n                              case 7:\n                                if (!(options.disableTriggers !== true)) {\n                                  _context9.next = 13;\n                                  break;\n                                }\n                                _context9.next = 10;\n                                return _this2.handleTriggers(response.data.result.triggers, response.data.result.data);\n                              case 10:\n                                triggerReturn = _context9.sent;\n                                if (!triggerReturn) {\n                                  _context9.next = 13;\n                                  break;\n                                }\n                                return _context9.abrupt(\"return\", triggerReturn);\n                              case 13:\n                                return _context9.abrupt(\"return\", response.data.result);\n                              case 14:\n                              case \"end\":\n                                return _context9.stop();\n                            }\n                          }\n                        }, _callee7);\n                      }));\n                      return function () {\n                        return _ref.apply(this, arguments);\n                      };\n                    }();\n                  });\n                });\n                this.Plugins = allPlugins;\n              case 12:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n      return function () {\n        return _initPlugins.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"handleTriggers\",\n    value: function () {\n      var _handleTriggers = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee9(triggersArray, payload) {\n        var _this3 = this;\n        var _loop, i, _ret;\n        return _regenerator.default.wrap(function (_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                if (triggersArray) {\n                  _context14.next = 2;\n                  break;\n                }\n                return _context14.abrupt(\"return\");\n              case 2:\n                _loop = /*#__PURE__*/_regenerator.default.mark(function _loop(i) {\n                  var _triggersArray$i, _triggersArray$i$data, _triggersArray$i2, _triggersArray$i2$dat, _triggersArray$i$data2, _triggersArray$i3, _triggersArray$i3$dat, _triggersArray$i4, _triggersArray$i4$dat, _triggersArray$i5, _triggersArray$i6, _triggersArray$i7, _triggersArray$i8, _triggersArray$i9, _triggersArray$i10, _triggersArray$i11, _triggersArray$i12, _triggersArray$i13, _triggersArray$i14, _triggersArray$i15, _triggersArray$i16, _triggersArray$i17, _triggersArray$i18, _triggersArray$i19, _triggersArray$i21, _triggersArray$i23, _triggersArray$i24, _triggersArray$i25;\n                  var _response, _context11, _context12, _triggersArray$i20, _JSON$parse, domain, types, message, signature, result, _JSON$parse2, _domain, _types, _message;\n                  return _regenerator.default.wrap(function (_context13) {\n                    while (1) {\n                      switch (_context13.prev = _context13.next) {\n                        case 0:\n                          _context13.t0 = triggersArray[i].name;\n                          _context13.next = _context13.t0 === 'openUrl' ? 3 : _context13.t0 === 'web3Transaction' ? 5 : _context13.t0 === 'web3Sign' ? 18 : _context13.t0 === 'callPluginEndpoint' ? 35 : _context13.t0 === 'web3SignV4' ? 57 : 82;\n                          break;\n                        case 3:\n                          if (triggersArray[i].newTab) window.open(triggersArray[i].url);else window.open(triggersArray[i].url, '_self');\n                          return _context13.abrupt(\"break\", 83);\n                        case 5:\n                          _context13.next = 7;\n                          return _this3.getInternalWeb3Provider().signer.sendTransaction({\n                            from: (_triggersArray$i = triggersArray[i]) === null || _triggersArray$i === void 0 ? void 0 : (_triggersArray$i$data = _triggersArray$i.data) === null || _triggersArray$i$data === void 0 ? void 0 : _triggersArray$i$data.from,\n                            to: (_triggersArray$i2 = triggersArray[i]) === null || _triggersArray$i2 === void 0 ? void 0 : (_triggersArray$i2$dat = _triggersArray$i2.data) === null || _triggersArray$i2$dat === void 0 ? void 0 : _triggersArray$i2$dat.to,\n                            value: _ethers.ethers.BigNumber.from((_triggersArray$i$data2 = (_triggersArray$i3 = triggersArray[i]) === null || _triggersArray$i3 === void 0 ? void 0 : (_triggersArray$i3$dat = _triggersArray$i3.data) === null || _triggersArray$i3$dat === void 0 ? void 0 : _triggersArray$i3$dat.value) !== null && _triggersArray$i$data2 !== void 0 ? _triggersArray$i$data2 : 0),\n                            data: (_triggersArray$i4 = triggersArray[i]) === null || _triggersArray$i4 === void 0 ? void 0 : (_triggersArray$i4$dat = _triggersArray$i4.data) === null || _triggersArray$i4$dat === void 0 ? void 0 : _triggersArray$i4$dat.data\n                          });\n                        case 7:\n                          _response = _context13.sent;\n                          if (!(((_triggersArray$i5 = triggersArray[i]) === null || _triggersArray$i5 === void 0 ? void 0 : _triggersArray$i5.shouldAwait) === true)) {\n                            _context13.next = 12;\n                            break;\n                          }\n                          _context13.next = 11;\n                          return _response.wait();\n                        case 11:\n                          _response = _context13.sent;\n                        case 12:\n                          // Save the response returned by the web3 trasanction\n                          if (((_triggersArray$i6 = triggersArray[i]) === null || _triggersArray$i6 === void 0 ? void 0 : _triggersArray$i6.saveResponse) === true) _this3.memoryCard.save(_response); // Return payload and response\n\n                          if (!(((_triggersArray$i7 = triggersArray[i]) === null || _triggersArray$i7 === void 0 ? void 0 : _triggersArray$i7.shouldReturnPayload) === true)) {\n                            _context13.next = 15;\n                            break;\n                          }\n                          return _context13.abrupt(\"return\", {\n                            v: {\n                              payload: payload,\n                              response: _response\n                            }\n                          });\n                        case 15:\n                          if (!(((_triggersArray$i8 = triggersArray[i]) === null || _triggersArray$i8 === void 0 ? void 0 : _triggersArray$i8.shouldReturnResponse) === true)) {\n                            _context13.next = 17;\n                            break;\n                          }\n                          return _context13.abrupt(\"return\", {\n                            v: _response\n                          });\n                        case 17:\n                          return _context13.abrupt(\"break\", 83);\n                        case 18:\n                          if (triggersArray[i].message) {\n                            _context13.next = 20;\n                            break;\n                          }\n                          throw new Error('web3Sign trigger does not have a message to sign');\n                        case 20:\n                          if (!(!triggersArray[i].signer || triggersArray[i].signer)) {\n                            _context13.next = 22;\n                            break;\n                          }\n                          throw new Error('web3Sign trigger signer address missing or invalid');\n                        case 22:\n                          _context13.next = 24;\n                          return _this3.getInternalWeb3Provider().signer.signMessage(triggersArray[i].message);\n                        case 24:\n                          _response = _context13.sent;\n                          if (!((_triggersArray$i9 = triggersArray[i]) !== null && _triggersArray$i9 !== void 0 && _triggersArray$i9.shouldAwait)) {\n                            _context13.next = 29;\n                            break;\n                          }\n                          _context13.next = 28;\n                          return _response.wait();\n                        case 28:\n                          _response = _context13.sent;\n                        case 29:\n                          // Save response\n                          if (((_triggersArray$i10 = triggersArray[i]) === null || _triggersArray$i10 === void 0 ? void 0 : _triggersArray$i10.saveResponse) === true) _this3.memoryCard.save(_response); // Return payload and response\n\n                          if (!(((_triggersArray$i11 = triggersArray[i]) === null || _triggersArray$i11 === void 0 ? void 0 : _triggersArray$i11.shouldReturnPayload) === true)) {\n                            _context13.next = 32;\n                            break;\n                          }\n                          return _context13.abrupt(\"return\", {\n                            v: {\n                              payload: payload,\n                              response: _response\n                            }\n                          });\n                        case 32:\n                          if (!(((_triggersArray$i12 = triggersArray[i]) === null || _triggersArray$i12 === void 0 ? void 0 : _triggersArray$i12.shouldReturnResponse) === true)) {\n                            _context13.next = 34;\n                            break;\n                          }\n                          return _context13.abrupt(\"return\", {\n                            v: _response\n                          });\n                        case 34:\n                          return _context13.abrupt(\"break\", 83);\n                        case 35:\n                          if (triggersArray[i].pluginName) {\n                            _context13.next = 37;\n                            break;\n                          }\n                          throw new Error('callPluginEndpoint trigger does not have an plugin name to call');\n                        case 37:\n                          if (triggersArray[i].endpoint) {\n                            _context13.next = 39;\n                            break;\n                          }\n                          throw new Error('callPluginEndpoint trigger does not have an endpoint to call');\n                        case 39:\n                          if (!(((_triggersArray$i13 = triggersArray[i]) === null || _triggersArray$i13 === void 0 ? void 0 : _triggersArray$i13.shouldAwait) === true)) {\n                            _context13.next = 44;\n                            break;\n                          } // Check if a saved response has to be used to fill a parameter needed by the plugin\n\n                          if (triggersArray[i].useSavedResponse === true) {\n                            triggersArray[i].params[triggersArray[i].savedResponseAs] = _this3.memoryCard.get(triggersArray[i].savedResponseAt);\n                          } // Call the endpoint\n\n                          _context13.next = 43;\n                          return (0, _Cloud.run)((0, _concat.default)(_context11 = \"\".concat(triggersArray[i].pluginName, \"_\")).call(_context11, triggersArray[i].endpoint), triggersArray[i].params);\n                        case 43:\n                          _response = _context13.sent;\n                        case 44:\n                          // Call a plugin endpoint (does NOT await)\n                          if (((_triggersArray$i14 = triggersArray[i]) === null || _triggersArray$i14 === void 0 ? void 0 : _triggersArray$i14.shouldAwait) === false) {\n                            // Check if a saved response has to be used to fill a parameter needed by the plugin\n                            if (triggersArray[i].useSavedResponse === true) {\n                              triggersArray[i].params[triggersArray[i].savedResponseAs] = _this3.memoryCard.get(triggersArray[i].savedResponseAt);\n                            } // Call the endpoint\n\n                            _response = (0, _Cloud.run)((0, _concat.default)(_context12 = \"\".concat(triggersArray[i].pluginName, \"_\")).call(_context12, triggersArray[i].endpoint), triggersArray[i].params);\n                          } // If the response contains a trigger, run it\n\n                          if (!(triggersArray[i].runResponseTrigger === true)) {\n                            _context13.next = 49;\n                            break;\n                          }\n                          _context13.next = 48;\n                          return _this3.handleTriggers(_response.data.result.triggers, _response.data.result.data);\n                        case 48:\n                          _response = _context13.sent;\n                        case 49:\n                          // Save response\n                          if (((_triggersArray$i15 = triggersArray[i]) === null || _triggersArray$i15 === void 0 ? void 0 : _triggersArray$i15.saveResponse) === true) _this3.memoryCard.save(_response); // If should not run the response trigger, continues the loop and does not return (to avoid breaking the loop execution and run other pending triggers)\n\n                          if (!(((_triggersArray$i16 = triggersArray[i]) === null || _triggersArray$i16 === void 0 ? void 0 : _triggersArray$i16.runResponseTrigger) === false)) {\n                            _context13.next = 52;\n                            break;\n                          }\n                          return _context13.abrupt(\"return\", \"continue\");\n                        case 52:\n                          if (!(((_triggersArray$i17 = triggersArray[i]) === null || _triggersArray$i17 === void 0 ? void 0 : _triggersArray$i17.shouldReturnPayload) === true)) {\n                            _context13.next = 54;\n                            break;\n                          }\n                          return _context13.abrupt(\"return\", {\n                            v: {\n                              payload: 'payload',\n                              response: _response\n                            }\n                          });\n                        case 54:\n                          if (!(((_triggersArray$i18 = triggersArray[i]) === null || _triggersArray$i18 === void 0 ? void 0 : _triggersArray$i18.shouldReturnResponse) === true)) {\n                            _context13.next = 56;\n                            break;\n                          }\n                          return _context13.abrupt(\"return\", {\n                            v: _response\n                          });\n                        case 56:\n                          return _context13.abrupt(\"break\", 83);\n                        case 57:\n                          if (triggersArray[i].parameters) {\n                            _context13.next = 59;\n                            break;\n                          }\n                          throw new Error('web3SignV4 trigger does not have `parameters` to sign');\n                        case 59:\n                          if (triggersArray[i].from) {\n                            _context13.next = 61;\n                            break;\n                          }\n                          throw new Error('web3SignV4 trigger does not have a `from` address');\n                        case 61:\n                          if (!(((_triggersArray$i19 = triggersArray[i]) === null || _triggersArray$i19 === void 0 ? void 0 : _triggersArray$i19.shouldAwait) === true)) {\n                            _context13.next = 76;\n                            break;\n                          }\n                          _context13.prev = 62;\n                          _JSON$parse = JSON.parse(triggersArray[i].parameters[1]), domain = _JSON$parse.domain, types = _JSON$parse.types, message = _JSON$parse.message;\n                          if (types.EIP712Domain) {\n                            // Ethers.js will compute this automatically\n                            delete types.EIP712Domain;\n                          }\n                          _context13.next = 67;\n                          return _this3.getInternalWeb3Provider().signer._signTypedData(domain, types, message);\n                        case 67:\n                          signature = _context13.sent;\n                          result = {\n                            result: signature\n                          };\n                          if (((_triggersArray$i20 = triggersArray[i]) === null || _triggersArray$i20 === void 0 ? void 0 : _triggersArray$i20.saveResponse) === true) _this3.memoryCard.save(result);\n                          _response = result;\n                          _context13.next = 76;\n                          break;\n                        case 73:\n                          _context13.prev = 73;\n                          _context13.t1 = _context13[\"catch\"](62);\n                          throw new Error(_context13.t1.message || _context13.t1);\n                        case 76:\n                          if (((_triggersArray$i21 = triggersArray[i]) === null || _triggersArray$i21 === void 0 ? void 0 : _triggersArray$i21.shouldAwait) === false) {\n                            _JSON$parse2 = JSON.parse(triggersArray[i].parameters[1]), _domain = _JSON$parse2.domain, _types = _JSON$parse2.types, _message = _JSON$parse2.message;\n                            if (_types.EIP712Domain) {\n                              // Ethers.js will compute this automatically\n                              delete _types.EIP712Domain;\n                            }\n                            _this3.getInternalWeb3Provider().signer._signTypedData(_domain, _types, _message) // eslint-disable-next-line no-loop-func\n                            .then(function (signature) {\n                              var _triggersArray$i22;\n                              var result = {\n                                result: signature\n                              };\n                              if (((_triggersArray$i22 = triggersArray[i]) === null || _triggersArray$i22 === void 0 ? void 0 : _triggersArray$i22.saveResponse) === true) _this3.memoryCard.save(result);\n                              _response = result;\n                            }).catch(function (error) {\n                              throw new Error(error.message || error);\n                            });\n                          } // Return payload and response\n\n                          if (!(((_triggersArray$i23 = triggersArray[i]) === null || _triggersArray$i23 === void 0 ? void 0 : _triggersArray$i23.shouldReturnPayload) === true)) {\n                            _context13.next = 79;\n                            break;\n                          }\n                          return _context13.abrupt(\"return\", {\n                            v: {\n                              payload: payload,\n                              response: _response\n                            }\n                          });\n                        case 79:\n                          if (!(((_triggersArray$i24 = triggersArray[i]) === null || _triggersArray$i24 === void 0 ? void 0 : _triggersArray$i24.shouldReturnResponse) === true)) {\n                            _context13.next = 81;\n                            break;\n                          }\n                          return _context13.abrupt(\"return\", {\n                            v: _response\n                          });\n                        case 81:\n                          return _context13.abrupt(\"break\", 83);\n                        case 82:\n                          throw new Error(\"Unknown trigger: \\\"\".concat((_triggersArray$i25 = triggersArray[i]) === null || _triggersArray$i25 === void 0 ? void 0 : _triggersArray$i25.name, \"\\\"\"));\n                        case 83:\n                        case \"end\":\n                          return _context13.stop();\n                      }\n                    }\n                  }, _loop, null, [[62, 73]]);\n                });\n                i = 0;\n              case 4:\n                if (!(i < triggersArray.length)) {\n                  _context14.next = 14;\n                  break;\n                }\n                return _context14.delegateYield(_loop(i), \"t0\", 6);\n              case 6:\n                _ret = _context14.t0;\n                if (!(_ret === \"continue\")) {\n                  _context14.next = 9;\n                  break;\n                }\n                return _context14.abrupt(\"continue\", 11);\n              case 9:\n                if (!((0, _typeof2.default)(_ret) === \"object\")) {\n                  _context14.next = 11;\n                  break;\n                }\n                return _context14.abrupt(\"return\", _ret.v);\n              case 11:\n                i++;\n                _context14.next = 4;\n                break;\n              case 14:\n                // Delete all saved data\n                this.memoryCard.deleteSaved();\n              case 15:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n      return function () {\n        return _handleTriggers.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getAllERC20\",\n    value: function () {\n      var _getAllERC = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee10() {\n        var _ref2,\n          chain,\n          address,\n          result,\n          _args11 = arguments;\n        return _regenerator.default.wrap(function (_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                _ref2 = _args11.length > 0 && _args11[0] !== undefined ? _args11[0] : {}, chain = _ref2.chain, address = _ref2.address;\n                _context15.next = 3;\n                return (0, _Cloud.run)('getAllERC20', {\n                  chain: chain,\n                  address: address\n                });\n              case 3:\n                result = _context15.sent;\n                return _context15.abrupt(\"return\", result);\n              case 5:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee10);\n      }));\n      return function () {\n        return _getAllERC.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getERC20\",\n    value: function () {\n      var _getERC = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee11() {\n        var _ref3,\n          chain,\n          address,\n          symbol,\n          tokenAddress,\n          result,\n          _args12 = arguments;\n        return _regenerator.default.wrap(function (_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                _ref3 = _args12.length > 0 && _args12[0] !== undefined ? _args12[0] : {}, chain = _ref3.chain, address = _ref3.address, symbol = _ref3.symbol, tokenAddress = _ref3.tokenAddress;\n                result = (0, _Cloud.run)('getERC20', {\n                  chain: chain,\n                  address: address,\n                  symbol: symbol,\n                  tokenAddress: tokenAddress\n                });\n                return _context16.abrupt(\"return\", result);\n              case 3:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee11);\n      }));\n      return function () {\n        return _getERC.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getNFTs\",\n    value: function () {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref4$chain = _ref4.chain,\n        chain = _ref4$chain === void 0 ? 'Eth' : _ref4$chain,\n        _ref4$address = _ref4.address,\n        address = _ref4$address === void 0 ? '' : _ref4$address;\n      return (0, _Cloud.run)('getNFTs_old', {\n        chain: chain,\n        address: address\n      });\n    }\n  }, {\n    key: \"getNFTsCount\",\n    value: function () {\n      var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref5$chain = _ref5.chain,\n        chain = _ref5$chain === void 0 ? 'Eth' : _ref5$chain,\n        _ref5$address = _ref5.address,\n        address = _ref5$address === void 0 ? '' : _ref5$address;\n      return (0, _Cloud.run)('getNFTsCount_old', {\n        chain: chain,\n        address: address\n      });\n    }\n  }, {\n    key: \"getTransactions\",\n    value: function () {\n      var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref6$chain = _ref6.chain,\n        chain = _ref6$chain === void 0 ? 'Eth' : _ref6$chain,\n        _ref6$address = _ref6.address,\n        address = _ref6$address === void 0 ? '' : _ref6$address,\n        _ref6$order = _ref6.order,\n        order = _ref6$order === void 0 ? 'desc' : _ref6$order;\n      return (0, _Cloud.run)('getTransactions', {\n        chain: chain,\n        address: address,\n        order: order\n      });\n    }\n  }, {\n    key: \"getTransactionsCount\",\n    value: function () {\n      var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n        _ref7$chain = _ref7.chain,\n        chain = _ref7$chain === void 0 ? 'Eth' : _ref7$chain,\n        _ref7$address = _ref7.address,\n        address = _ref7$address === void 0 ? '' : _ref7$address;\n      return (0, _Cloud.run)('getTransactionsCount', {\n        chain: chain,\n        address: address\n      });\n    }\n  }, {\n    key: \"transfer\",\n    value: function () {\n      var _transfer = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee12() {\n        var _ref8,\n          _ref8$type,\n          type,\n          _ref8$receiver,\n          receiver,\n          _ref8$contractAddress,\n          contractAddress,\n          contract_address,\n          _ref8$amount,\n          amount,\n          _ref8$tokenId,\n          tokenId,\n          token_id,\n          _ref8$system,\n          system,\n          options,\n          _this$getInternalWeb3,\n          internalWeb3,\n          sender,\n          signer,\n          transferOperation,\n          customToken,\n          result,\n          _args13 = arguments;\n        return _regenerator.default.wrap(function (_context17) {\n          while (1) {\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                _ref8 = _args13.length > 0 && _args13[0] !== undefined ? _args13[0] : {}, _ref8$type = _ref8.type, type = _ref8$type === void 0 ? 'native' : _ref8$type, _ref8$receiver = _ref8.receiver, receiver = _ref8$receiver === void 0 ? '' : _ref8$receiver, _ref8$contractAddress = _ref8.contractAddress, contractAddress = _ref8$contractAddress === void 0 ? '' : _ref8$contractAddress, contract_address = _ref8.contract_address, _ref8$amount = _ref8.amount, amount = _ref8$amount === void 0 ? '' : _ref8$amount, _ref8$tokenId = _ref8.tokenId, tokenId = _ref8$tokenId === void 0 ? '' : _ref8$tokenId, token_id = _ref8.token_id, _ref8$system = _ref8.system, system = _ref8$system === void 0 ? 'evm' : _ref8$system; // Allow snake-case for backwards compatibility\n                // eslint-disable-next-line camelcase\n\n                contractAddress = contractAddress || contract_address; // eslint-disable-next-line camelcase\n\n                tokenId = tokenId || token_id;\n                options = {\n                  receiver: receiver,\n                  contractAddress: contractAddress,\n                  amount: amount,\n                  tokenId: tokenId,\n                  system: system\n                };\n                _TransferUtils.default.isSupportedType(type);\n                _TransferUtils.default.validateInput(type, options);\n                _this$getInternalWeb3 = this.getInternalWeb3Provider(), internalWeb3 = _this$getInternalWeb3.web3, sender = _this$getInternalWeb3.account, signer = _this$getInternalWeb3.signer;\n                if (sender) {\n                  _context17.next = 9;\n                  break;\n                }\n                throw new Error('Sender address not found');\n              case 9:\n                if (tokenId) _TransferUtils.default.isUint256(tokenId);\n                if (type !== 'native') {\n                  customToken = new _ethers.ethers.Contract(contractAddress, _TransferUtils.default.abi[type], signer);\n                }\n                _context17.t0 = type;\n                _context17.next = _context17.t0 === 'native' ? 14 : _context17.t0 === 'erc20' ? 16 : _context17.t0 === 'erc721' ? 18 : _context17.t0 === 'erc1155' ? 20 : 22;\n                break;\n              case 14:\n                transferOperation = signer.sendTransaction({\n                  to: receiver,\n                  value: _ethers.ethers.BigNumber.from(amount)\n                });\n                return _context17.abrupt(\"break\", 23);\n              case 16:\n                transferOperation = customToken.transfer(receiver, amount, {\n                  from: sender\n                });\n                return _context17.abrupt(\"break\", 23);\n              case 18:\n                transferOperation = customToken.safeTransferFrom(sender, receiver, \"\".concat(tokenId), {\n                  from: sender\n                });\n                return _context17.abrupt(\"break\", 23);\n              case 20:\n                transferOperation = customToken.safeTransferFrom(sender, receiver, \"\".concat(tokenId), amount, '0x', {\n                  from: sender\n                });\n                return _context17.abrupt(\"break\", 23);\n              case 22:\n                throw new Error(\"Unknown transfer type: \\\"\".concat(type, \"\\\"\"));\n              case 23:\n                _context17.next = 25;\n                return transferOperation;\n              case 25:\n                result = _context17.sent;\n                return _context17.abrupt(\"return\", result);\n              case 27:\n              case \"end\":\n                return _context17.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n      return function () {\n        return _transfer.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"executeFunction\",\n    value: function () {\n      var _executeFunction = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee13() {\n        var _functionData, _context25, _context26;\n        var _ref9,\n          contractAddress,\n          abi,\n          functionName,\n          msgValue,\n          _ref9$params,\n          params,\n          _ref9$overrides,\n          overrides,\n          contractOptions,\n          _this$getInternalWeb4,\n          account,\n          internalWeb3,\n          provider,\n          signerOrProvider,\n          overloadedFunction,\n          functionData,\n          _context18,\n          _context19,\n          nameWithoutTopics,\n          topics,\n          functionDataArray,\n          possibleTopics,\n          _functionDataArray,\n          _possibleTopics,\n          stateMutability,\n          isReadFunction,\n          currentAddress,\n          errors,\n          _iterator,\n          _step,\n          input,\n          value,\n          parsedInputs,\n          contract,\n          contractMethod,\n          response,\n          _args14 = arguments;\n        return _regenerator.default.wrap(function (_context27) {\n          while (1) {\n            switch (_context27.prev = _context27.next) {\n              case 0:\n                _ref9 = _args14.length > 0 && _args14[0] !== undefined ? _args14[0] : {}, contractAddress = _ref9.contractAddress, abi = _ref9.abi, functionName = _ref9.functionName, msgValue = _ref9.msgValue, _ref9$params = _ref9.params, params = _ref9$params === void 0 ? {} : _ref9$params, _ref9$overrides = _ref9.overrides, overrides = _ref9$overrides === void 0 ? {} : _ref9$overrides;\n                contractOptions = {};\n                _this$getInternalWeb4 = this.getInternalWeb3Provider(), account = _this$getInternalWeb4.account, internalWeb3 = _this$getInternalWeb4.web3, provider = _this$getInternalWeb4.provider, signerOrProvider = _this$getInternalWeb4.signerOrProvider; // Check if function is an overloaded function definition. ex \"getMessage(string)\", or \"getMessage()\"\n\n                overloadedFunction = functionName.match(/^(.+)\\((.*)\\)$/);\n                if (!overloadedFunction) {\n                  _context27.next = 16;\n                  break;\n                } // Get functiondata from overloaded function\n\n                nameWithoutTopics = overloadedFunction[1];\n                topics = (0, _filter.default)(_context18 = (0, _map.default)(_context19 = overloadedFunction[2].split(',')).call(_context19, function (topic) {\n                  return (0, _trim.default)(topic).call(topic);\n                })).call(_context18, function (topic) {\n                  return !!topic;\n                });\n                functionDataArray = (0, _filter.default)(abi).call(abi, function (x) {\n                  return x.name === nameWithoutTopics;\n                });\n                if (!(functionDataArray.length === 0)) {\n                  _context27.next = 10;\n                  break;\n                }\n                throw new Error('Function does not exist in abi');\n              case 10:\n                functionData = (0, _find.default)(functionDataArray).call(functionDataArray, function (data) {\n                  var _data$inputs$length, _context20;\n                  return ((_data$inputs$length = data === null || data === void 0 ? void 0 : data.inputs.length) !== null && _data$inputs$length !== void 0 ? _data$inputs$length : 0) === topics.length && (0, _every.default)(_context20 = data.inputs).call(_context20, function (input, index) {\n                    return input.type === topics[index];\n                  });\n                });\n                if (functionData) {\n                  _context27.next = 14;\n                  break;\n                }\n                possibleTopics = (0, _map.default)(functionDataArray).call(functionDataArray, function (data) {\n                  var _context21, _context22;\n                  return (0, _concat.default)(_context21 = \"\".concat(data.name, \"(\")).call(_context21, (0, _map.default)(_context22 = data.inputs).call(_context22, function (input) {\n                    return input.type;\n                  }).join(','), \")\");\n                });\n                throw new Error(\"Function with the provided topic does not exist in abi. Possible funcationNames: \".concat(possibleTopics.join(' ,')));\n              case 14:\n                _context27.next = 23;\n                break;\n              case 16:\n                // Get functiondata from 'normal' function\n                _functionDataArray = (0, _filter.default)(abi).call(abi, function (x) {\n                  return x.name === functionName;\n                });\n                if (!(_functionDataArray.length === 0)) {\n                  _context27.next = 19;\n                  break;\n                }\n                throw new Error('Function does not exist in abi');\n              case 19:\n                if (!(_functionDataArray.length > 1)) {\n                  _context27.next = 22;\n                  break;\n                }\n                _possibleTopics = (0, _map.default)(_functionDataArray).call(_functionDataArray, function (data) {\n                  var _context23, _context24;\n                  return (0, _concat.default)(_context23 = \"\".concat(data.name, \"(\")).call(_context23, (0, _map.default)(_context24 = data.inputs).call(_context24, function (input) {\n                    return input.type;\n                  }).join(','), \")\");\n                });\n                throw new Error(\"Multiple function definitions found in the abi. Please include the topic in the functionName. Possible funcationNames: \".concat(_possibleTopics.join(' ,')));\n              case 22:\n                functionData = _functionDataArray[0];\n              case 23:\n                stateMutability = (_functionData = functionData) === null || _functionData === void 0 ? void 0 : _functionData.stateMutability;\n                isReadFunction = stateMutability === 'view' || stateMutability === 'pure';\n                if (isReadFunction) {\n                  _context27.next = 31;\n                  break;\n                }\n                if (params.from) {\n                  _context27.next = 31;\n                  break;\n                }\n                currentAddress = account;\n                if (currentAddress) {\n                  _context27.next = 30;\n                  break;\n                }\n                throw new Error('From address is required');\n              case 30:\n                contractOptions.from = currentAddress;\n              case 31:\n                errors = [];\n                _iterator = _createForOfIteratorHelper(functionData.inputs);\n                try {\n                  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                    input = _step.value;\n                    value = params[input.name];\n                    if (!value && typeof value !== 'number' && typeof value !== 'boolean' && input.name !== '') {\n                      errors.push(\"\".concat(input.name, \" is required\"));\n                    }\n                  }\n                } catch (err) {\n                  _iterator.e(err);\n                } finally {\n                  _iterator.f();\n                }\n                if (!(errors.length > 0)) {\n                  _context27.next = 36;\n                  break;\n                }\n                throw errors;\n              case 36:\n                parsedInputs = (0, _map.default)(_context25 = functionData.inputs).call(_context25, function (x) {\n                  return params[x.name];\n                });\n                contract = new _ethers.ethers.Contract(contractAddress, abi, signerOrProvider);\n                contractMethod = contract[functionName];\n                if (contractMethod) {\n                  _context27.next = 41;\n                  break;\n                }\n                throw new Error(\"Cannot find function \\\"\".concat(functionName, \"\\\" on the contract\"));\n              case 41:\n                _context27.next = 43;\n                return contractMethod.apply(void 0, (0, _concat.default)(_context26 = (0, _toConsumableArray2.default)((0, _values.default)(parsedInputs))).call(_context26, [msgValue ? {\n                  value: _ethers.ethers.BigNumber.from(\"\".concat(msgValue))\n                } : {}]));\n              case 43:\n                response = _context27.sent;\n                return _context27.abrupt(\"return\", response);\n              case 45:\n              case \"end\":\n                return _context27.stop();\n            }\n          }\n        }, _callee13, this);\n      }));\n      return function () {\n        return _executeFunction.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getSigningData\",\n    value: function () {\n      return \"Moralis Authentication\";\n    }\n  }, {\n    key: \"ensureWeb3IsInstalled\",\n    value: function () {\n      return this.internalWeb3Provider && this.internalWeb3Provider.web3 ? true : false;\n    }\n    /**\n     * Gets the internalWeb3Provider with validation to make sure it has been instansiated with 'enableWeb3()'\n     */\n  }, {\n    key: \"getInternalWeb3Provider\",\n    value: function () {\n      if (!this.ensureWeb3IsInstalled()) throw new Error(ERROR_WEB3_MISSING);\n      return this.internalWeb3Provider;\n    }\n    /**\n     * Gets web3 from the internalWeb3Provider with validation to make sure it has been instansiated with 'enableWeb3()'\n     */\n  }, {\n    key: \"getInternalWeb3\",\n    value: function () {\n      return this.getInternalWeb3Provider().web3;\n    }\n  }, {\n    key: \"provider\",\n    get: function () {\n      var _this$internalWeb3Pro2, _this$internalWeb3Pro3;\n      return (_this$internalWeb3Pro2 = (_this$internalWeb3Pro3 = this.internalWeb3Provider) === null || _this$internalWeb3Pro3 === void 0 ? void 0 : _this$internalWeb3Pro3.provider) !== null && _this$internalWeb3Pro2 !== void 0 ? _this$internalWeb3Pro2 : null;\n    }\n  }, {\n    key: \"connector\",\n    get: function () {\n      var _this$internalWeb3Pro4, _this$internalWeb3Pro5;\n      return (_this$internalWeb3Pro4 = (_this$internalWeb3Pro5 = this.internalWeb3Provider) === null || _this$internalWeb3Pro5 === void 0 ? void 0 : _this$internalWeb3Pro5.connector) !== null && _this$internalWeb3Pro4 !== void 0 ? _this$internalWeb3Pro4 : null;\n    }\n  }, {\n    key: \"connectorType\",\n    get: function () {\n      var _this$connector$type, _this$connector;\n      return (_this$connector$type = (_this$connector = this.connector) === null || _this$connector === void 0 ? void 0 : _this$connector.type) !== null && _this$connector$type !== void 0 ? _this$connector$type : null;\n    }\n  }, {\n    key: \"network\",\n    get: function () {\n      var _this$connector$netwo, _this$connector2;\n      return (_this$connector$netwo = (_this$connector2 = this.connector) === null || _this$connector2 === void 0 ? void 0 : _this$connector2.network) !== null && _this$connector$netwo !== void 0 ? _this$connector$netwo : null;\n    }\n  }, {\n    key: \"account\",\n    get: function () {\n      var _this$internalWeb3Pro6, _this$internalWeb3Pro7;\n      return (_this$internalWeb3Pro6 = (_this$internalWeb3Pro7 = this.internalWeb3Provider) === null || _this$internalWeb3Pro7 === void 0 ? void 0 : _this$internalWeb3Pro7.account) !== null && _this$internalWeb3Pro6 !== void 0 ? _this$internalWeb3Pro6 : null;\n    }\n  }, {\n    key: \"chainId\",\n    get: function () {\n      var _this$internalWeb3Pro8, _this$internalWeb3Pro9;\n      return (_this$internalWeb3Pro8 = (_this$internalWeb3Pro9 = this.internalWeb3Provider) === null || _this$internalWeb3Pro9 === void 0 ? void 0 : _this$internalWeb3Pro9.chainId) !== null && _this$internalWeb3Pro8 !== void 0 ? _this$internalWeb3Pro8 : null;\n    }\n  }, {\n    key: \"getChainId\",\n    value: function () {\n      return this.chainId;\n    }\n  }, {\n    key: \"web3Library\",\n    get: function () {\n      return _ethers.ethers;\n    }\n  }, {\n    key: \"_forwardToConnector\",\n    value: function (methodName, args) {\n      var _this$getInternalWeb5 = this.getInternalWeb3Provider(),\n        connector = _this$getInternalWeb5.connector;\n      var hasMethod = Boolean(connector[methodName]);\n      if (!hasMethod) {\n        var _context28;\n        throw new Error((0, _concat.default)(_context28 = \"Cannot call \".concat(methodName, \", as it does not exist on connector type \\\"\")).call(_context28, connector.type, \"\\\"\"));\n      }\n      return connector[methodName].apply(connector, (0, _toConsumableArray2.default)(args));\n    }\n  }, {\n    key: \"switchNetwork\",\n    value: function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      return this._forwardToConnector('switchNetwork', args);\n    }\n  }, {\n    key: \"addNetwork\",\n    value: function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n      return this._forwardToConnector('addNetwork', args);\n    }\n  }, {\n    key: \"isMetaMaskInstalled\",\n    value: function () {\n      var _isMetaMaskInstalled = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee14() {\n        return _regenerator.default.wrap(function (_context29) {\n          while (1) {\n            switch (_context29.prev = _context29.next) {\n              case 0:\n                _context29.next = 2;\n                return (0, _detectProvider.default)();\n              case 2:\n                if (!_context29.sent) {\n                  _context29.next = 6;\n                  break;\n                }\n                _context29.t0 = true;\n                _context29.next = 7;\n                break;\n              case 6:\n                _context29.t0 = false;\n              case 7:\n                return _context29.abrupt(\"return\", _context29.t0);\n              case 8:\n              case \"end\":\n                return _context29.stop();\n            }\n          }\n        }, _callee14);\n      }));\n      return function () {\n        return _isMetaMaskInstalled.apply(this, arguments);\n      };\n    }()\n  }]);\n  return MoralisWeb3;\n}();\n(0, _defineProperty2.default)(MoralisWeb3, \"speedyNodeApiKey\", void 0);\n(0, _defineProperty2.default)(MoralisWeb3, \"web3\", null);\n(0, _defineProperty2.default)(MoralisWeb3, \"internalWeb3Provider\", null);\n(0, _defineProperty2.default)(MoralisWeb3, \"Plugins\", {});\n(0, _defineProperty2.default)(MoralisWeb3, \"isEnablingWeb3\", false);\n(0, _defineProperty2.default)(MoralisWeb3, \"memoryCard\", {\n  save: function (what) {\n    this.saved = what;\n  },\n  get: function (where) {\n    if (!this.saved) throw new Error('Nothing saved to memory card'); // In case the saved data is not an object but a simple string or number\n\n    if (where.length === 0) return this.getSaved();\n    var tmp;\n    var savedTmp = this.saved;\n    for (var i = 0; i < where.length; i++) {\n      tmp = savedTmp[where[i]];\n      savedTmp = tmp;\n    }\n    return savedTmp;\n  },\n  getSaved: function () {\n    return this.saved;\n  },\n  deleteSaved: function () {\n    this.saved = undefined;\n  }\n});\nMoralisWeb3.onConnect = (0, _bind.default)(_context30 = MoralisWeb3.on).call(_context30, MoralisWeb3, _InternalWeb3Provider.InternalWeb3Events.PROVIDER_CONNECT);\nMoralisWeb3.onDisconnect = (0, _bind.default)(_context31 = MoralisWeb3.on).call(_context31, MoralisWeb3, _InternalWeb3Provider.InternalWeb3Events.PROVIDER_DISCONNECT);\nMoralisWeb3.onWeb3Enabled = (0, _bind.default)(_context32 = MoralisWeb3.on).call(_context32, MoralisWeb3, _InternalWeb3Provider.InternalWeb3Events.WEB3_ENABLED);\nMoralisWeb3.onWeb3Deactivated = (0, _bind.default)(_context33 = MoralisWeb3.on).call(_context33, MoralisWeb3, _InternalWeb3Provider.InternalWeb3Events.WEB3_DEACTIVATED);\nMoralisWeb3.onChainChanged = (0, _bind.default)(_context34 = MoralisWeb3.on).call(_context34, MoralisWeb3, _InternalWeb3Provider.InternalWeb3Events.CHAIN_CHANGED);\nMoralisWeb3.onAccountChanged = (0, _bind.default)(_context35 = MoralisWeb3.on).call(_context35, MoralisWeb3, _InternalWeb3Provider.InternalWeb3Events.ACCOUNT_CHANGED);\nvar _default = MoralisWeb3;\nexports.default = _default;","map":{"version":3,"names":["_typeof3","require","_sliceInstanceProperty","_Array$from","_Symbol","_getIteratorMethod","_Array$isArray","_WeakMap","_Object$defineProperty","_Object$getOwnPropertyDescriptor","_interopRequireDefault","exports","value","default","_filter","_forEach","_concat","_stringify","_map","_trim","_find","_every","_values","_bind","_regenerator","_toConsumableArray2","_typeof2","_asyncToGenerator2","_classCallCheck2","_createClass2","_defineProperty2","_ethers","_events","_ParseObject","_ParseQuery","_ParseUser","_ParseACL","_MoralisErd","_MoralisDot","_MoralisSol","_TransferUtils","_Cloud","_createSigningData","_WalletConnectWeb3Connector","_InjectedWeb3Connector","_NetworkWeb3Connector","_ParseError","_InternalWeb3Provider","_interopRequireWildcard","_detectProvider","_MagicWeb3Connector","_Web3AuthConnector","_context30","_context31","_context32","_context33","_context34","_context35","_getRequireWildcardCache","nodeInterop","cacheBabelInterop","cacheNodeInterop","obj","__esModule","cache","has","get","newObj","key","Object","prototype","hasOwnProperty","call","desc","set","_createForOfIteratorHelper","o","allowArrayLike","it","_unsupportedIterableToArray","length","i","F","s","n","done","e","_e","f","TypeError","normalCompletion","didErr","err","step","next","_e2","return","minLen","_context36","_arrayLikeToArray","toString","constructor","name","test","arr","len","arr2","Array","MoralisEmitter","WARNING","ERROR_WEB3_MISSING","MoralisWeb3","eventName","listener","on","removeListener","once","off","removeAllListeners","ensureWeb3IsInstalled","account","emit","InternalWeb3Events","ACCOUNT_CHANGED","chainId","_this$internalWeb3Pro","web3","internalWeb3Provider","CHAIN_CHANGED","connectInfo","PROVIDER_CONNECT","error","message","cleanup","PROVIDER_DISCONNECT","_enableWeb","mark","_callee","_this","options","_options$connector","Connector","connector","anyNetwork","provider","internalWeb3","_yield$this$internalW","_args","arguments","wrap","_context","prev","undefined","isEnablingWeb3","Error","speedyNodeApiKey","getWeb3Connector","privateKey","args","handleWeb3AccountChanged","handleWeb3ChainChanged","handleWeb3Connect","handleWeb3Disconnect","activate","sent","t0","WEB3_ENABLED","abrupt","t1","finish","stop","apply","type","Web3Auth","_deactivateWeb","_callee2","_context2","_cleanup","_callee3","_context3","WEB3_DEACTIVATED","deactivate","_authenticate","_callee4","isLoggedIn","_this$getInternalWeb","signer","data","ethAddress","signature","authData","user","_context4","currentAsync","logOut","isDotAuth","authenticate","isElrondAuth","isSolAuth","enableWeb3","getInternalWeb3Provider","signingMessage","getSigningData","toLowerCase","signMessage","id","logInWith","setACL","addAllUnique","save","_link","_callee5","_this$getInternalWeb2","EthAddress","query","ethAddressRecord","_context5","extend","catch","linkWith","_unlink","_callee6","_user$get","accountsLower","accounts","nextAccounts","_context6","destroy","v","_unlinkFrom","_initPlugins","_callee8","installedPlugins","_this2","specs","allPlugins","_context10","run","Plugins","plugin","_context7","functions","_ref","_callee7","params","_context8","response","triggerReturn","_context9","concat","success","disableTriggers","handleTriggers","result","triggers","_handleTriggers","_callee9","triggersArray","payload","_this3","_loop","_ret","_context14","_triggersArray$i","_triggersArray$i$data","_triggersArray$i2","_triggersArray$i2$dat","_triggersArray$i$data2","_triggersArray$i3","_triggersArray$i3$dat","_triggersArray$i4","_triggersArray$i4$dat","_triggersArray$i5","_triggersArray$i6","_triggersArray$i7","_triggersArray$i8","_triggersArray$i9","_triggersArray$i10","_triggersArray$i11","_triggersArray$i12","_triggersArray$i13","_triggersArray$i14","_triggersArray$i15","_triggersArray$i16","_triggersArray$i17","_triggersArray$i18","_triggersArray$i19","_triggersArray$i21","_triggersArray$i23","_triggersArray$i24","_triggersArray$i25","_response","_context11","_context12","_triggersArray$i20","_JSON$parse","domain","types","_JSON$parse2","_domain","_types","_message","_context13","newTab","window","open","url","sendTransaction","from","to","ethers","BigNumber","shouldAwait","wait","saveResponse","memoryCard","shouldReturnPayload","shouldReturnResponse","pluginName","endpoint","useSavedResponse","savedResponseAs","savedResponseAt","runResponseTrigger","parameters","JSON","parse","EIP712Domain","_signTypedData","then","_triggersArray$i22","delegateYield","deleteSaved","_getAllERC","_callee10","_ref2","chain","address","_args11","_context15","_getERC","_callee11","_ref3","symbol","tokenAddress","_args12","_context16","_ref4","_ref4$chain","_ref4$address","_ref5","_ref5$chain","_ref5$address","_ref6","_ref6$chain","_ref6$address","_ref6$order","order","_ref7","_ref7$chain","_ref7$address","_transfer","_callee12","_ref8","_ref8$type","_ref8$receiver","receiver","_ref8$contractAddress","contractAddress","contract_address","_ref8$amount","amount","_ref8$tokenId","tokenId","token_id","_ref8$system","system","_this$getInternalWeb3","sender","transferOperation","customToken","_args13","_context17","isSupportedType","validateInput","isUint256","Contract","abi","transfer","safeTransferFrom","_executeFunction","_callee13","_functionData","_context25","_context26","_ref9","functionName","msgValue","_ref9$params","_ref9$overrides","overrides","contractOptions","_this$getInternalWeb4","signerOrProvider","overloadedFunction","functionData","_context18","_context19","nameWithoutTopics","topics","functionDataArray","possibleTopics","_functionDataArray","_possibleTopics","stateMutability","isReadFunction","currentAddress","errors","_iterator","_step","input","parsedInputs","contract","contractMethod","_args14","_context27","match","split","topic","x","_data$inputs$length","_context20","inputs","index","_context21","_context22","join","_context23","_context24","push","_this$internalWeb3Pro2","_this$internalWeb3Pro3","_this$internalWeb3Pro4","_this$internalWeb3Pro5","_this$connector$type","_this$connector","_this$connector$netwo","_this$connector2","network","_this$internalWeb3Pro6","_this$internalWeb3Pro7","_this$internalWeb3Pro8","_this$internalWeb3Pro9","methodName","_this$getInternalWeb5","hasMethod","Boolean","_context28","_len","_key","_forwardToConnector","_len2","_key2","_isMetaMaskInstalled","_callee14","_context29","what","saved","where","getSaved","tmp","savedTmp","onConnect","onDisconnect","onWeb3Enabled","onWeb3Deactivated","onChainChanged","onAccountChanged","_default"],"sources":["/home/chadvit/hh-bc/project-2/FirstDapp-Starter/node_modules/moralis/lib/browser/MoralisWeb3.js"],"sourcesContent":["\"use strict\";\n\nvar _typeof3 = require(\"@babel/runtime-corejs3/helpers/typeof\");\n\nvar _sliceInstanceProperty = require(\"@babel/runtime-corejs3/core-js-stable/instance/slice\");\n\nvar _Array$from = require(\"@babel/runtime-corejs3/core-js-stable/array/from\");\n\nvar _Symbol = require(\"@babel/runtime-corejs3/core-js-stable/symbol\");\n\nvar _getIteratorMethod = require(\"@babel/runtime-corejs3/core-js/get-iterator-method\");\n\nvar _Array$isArray = require(\"@babel/runtime-corejs3/core-js-stable/array/is-array\");\n\nvar _WeakMap = require(\"@babel/runtime-corejs3/core-js-stable/weak-map\");\n\nvar _Object$defineProperty = require(\"@babel/runtime-corejs3/core-js-stable/object/define-property\");\n\nvar _Object$getOwnPropertyDescriptor = require(\"@babel/runtime-corejs3/core-js-stable/object/get-own-property-descriptor\");\n\nvar _interopRequireDefault = require(\"@babel/runtime-corejs3/helpers/interopRequireDefault\");\n\n_Object$defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nexports.default = void 0;\n\nvar _filter = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/filter\"));\n\nvar _forEach = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/for-each\"));\n\nvar _concat = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/concat\"));\n\nvar _stringify = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/json/stringify\"));\n\nvar _map = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/map\"));\n\nvar _trim = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/trim\"));\n\nvar _find = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/find\"));\n\nvar _every = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/every\"));\n\nvar _values = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/object/values\"));\n\nvar _bind = _interopRequireDefault(require(\"@babel/runtime-corejs3/core-js-stable/instance/bind\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime-corejs3/regenerator\"));\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/toConsumableArray\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/typeof\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/createClass\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime-corejs3/helpers/defineProperty\"));\n\nvar _ethers = require(\"ethers\");\n\nvar _events = _interopRequireDefault(require(\"events\"));\n\nvar _ParseObject = _interopRequireDefault(require(\"./ParseObject\"));\n\nvar _ParseQuery = _interopRequireDefault(require(\"./ParseQuery\"));\n\nvar _ParseUser = _interopRequireDefault(require(\"./ParseUser\"));\n\nvar _ParseACL = _interopRequireDefault(require(\"./ParseACL\"));\n\nvar _MoralisErd = _interopRequireDefault(require(\"./MoralisErd\"));\n\nvar _MoralisDot = _interopRequireDefault(require(\"./MoralisDot\"));\n\nvar _MoralisSol = _interopRequireDefault(require(\"./MoralisSol\"));\n\nvar _TransferUtils = _interopRequireDefault(require(\"./TransferUtils\"));\n\nvar _Cloud = require(\"./Cloud\");\n\nvar _createSigningData = _interopRequireDefault(require(\"./createSigningData\"));\n\nvar _WalletConnectWeb3Connector = _interopRequireDefault(require(\"./Web3Connector/WalletConnectWeb3Connector\"));\n\nvar _InjectedWeb3Connector = _interopRequireDefault(require(\"./Web3Connector/InjectedWeb3Connector\"));\n\nvar _NetworkWeb3Connector = _interopRequireDefault(require(\"./Web3Connector/NetworkWeb3Connector\"));\n\nvar _ParseError = _interopRequireDefault(require(\"./ParseError\"));\n\nvar _InternalWeb3Provider = _interopRequireWildcard(require(\"./InternalWeb3Provider\"));\n\nvar _detectProvider = _interopRequireDefault(require(\"@metamask/detect-provider\"));\n\nvar _MagicWeb3Connector = _interopRequireDefault(require(\"./Web3Connector/MagicWeb3Connector\"));\n\nvar _Web3AuthConnector = require(\"./Web3Connector/Web3AuthConnector\");\n\nvar _context30, _context31, _context32, _context33, _context34, _context35;\n\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof _WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new _WeakMap();\n  var cacheNodeInterop = new _WeakMap();\n  return (_getRequireWildcardCache = function (nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\n\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof3(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache(nodeInterop);\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = _Object$defineProperty && _Object$getOwnPropertyDescriptor ? _Object$getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        _Object$defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj.default = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it = typeof _Symbol !== \"undefined\" && _getIteratorMethod(o) || o[\"@@iterator\"];\n\n  if (!it) {\n    if (_Array$isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function () {};\n\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function () {\n      it = it.call(o);\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  var _context36;\n\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n\n  var n = _sliceInstanceProperty(_context36 = Object.prototype.toString.call(o)).call(_context36, 8, -1);\n\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return _Array$from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nvar MoralisEmitter = new _events.default();\nvar WARNING = 'Non ethereum enabled browser';\nvar ERROR_WEB3_MISSING = 'Missing web3 instance, make sure to call Moralis.enableWeb3() or Moralis.authenticate()';\n\nvar MoralisWeb3 = /*#__PURE__*/function () {\n  function MoralisWeb3() {\n    (0, _classCallCheck2.default)(this, MoralisWeb3);\n  }\n\n  (0, _createClass2.default)(MoralisWeb3, null, [{\n    key: \"addListener\",\n    value: // Ethers.js instance that will be set after calling enableWeb3\n    // Internal web3 provider, containing the Ethers.js Web3 library for internal usage for handling transactions, contracts etc.\n    function (eventName, listener) {\n      MoralisEmitter.on(eventName, listener);\n      return function () {\n        return MoralisEmitter.removeListener(eventName, listener);\n      };\n    }\n  }, {\n    key: \"on\",\n    value: function (eventName, listener) {\n      MoralisEmitter.on(eventName, listener);\n      return function () {\n        return MoralisEmitter.removeListener(eventName, listener);\n      };\n    }\n  }, {\n    key: \"once\",\n    value: function (eventName, listener) {\n      MoralisEmitter.once(eventName, listener);\n      return function () {\n        return MoralisEmitter.removeListener(eventName, listener);\n      };\n    }\n  }, {\n    key: \"removeListener\",\n    value: function (eventName, listener) {\n      return MoralisEmitter.removeListener(eventName, listener);\n    }\n  }, {\n    key: \"off\",\n    value: function (eventName, listener) {\n      return MoralisEmitter.off(eventName, listener);\n    }\n  }, {\n    key: \"removeAllListeners\",\n    value: function (eventName, listener) {\n      return MoralisEmitter.removeAllListeners(eventName, listener);\n    }\n  }, {\n    key: \"isWeb3Enabled\",\n    value: function () {\n      return this.ensureWeb3IsInstalled();\n    }\n  }, {\n    key: \"handleWeb3AccountChanged\",\n    value: function (account) {\n      MoralisEmitter.emit(_InternalWeb3Provider.InternalWeb3Events.ACCOUNT_CHANGED, account);\n    }\n  }, {\n    key: \"handleWeb3ChainChanged\",\n    value: function (chainId) {\n      var _this$internalWeb3Pro;\n\n      this.web3 = (_this$internalWeb3Pro = this.internalWeb3Provider) === null || _this$internalWeb3Pro === void 0 ? void 0 : _this$internalWeb3Pro.web3;\n      MoralisEmitter.emit(_InternalWeb3Provider.InternalWeb3Events.CHAIN_CHANGED, chainId);\n    }\n  }, {\n    key: \"handleWeb3Connect\",\n    value: function (connectInfo) {\n      MoralisEmitter.emit(_InternalWeb3Provider.InternalWeb3Events.PROVIDER_CONNECT, connectInfo);\n    }\n  }, {\n    key: \"handleWeb3Disconnect\",\n    value: function (error) {\n      if ((error === null || error === void 0 ? void 0 : error.message) === 'MetaMask: Disconnected from chain. Attempting to connect.') {\n        return;\n      }\n\n      this.cleanup();\n      MoralisEmitter.emit(_InternalWeb3Provider.InternalWeb3Events.PROVIDER_DISCONNECT, error);\n    }\n  }, {\n    key: \"enableWeb3\",\n    value: function () {\n      var _enableWeb = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee() {\n        var _this = this;\n\n        var options,\n            _options$connector,\n            Connector,\n            connector,\n            anyNetwork,\n            provider,\n            chainId,\n            account,\n            internalWeb3,\n            _yield$this$internalW,\n            web3,\n            _args = arguments;\n\n        return _regenerator.default.wrap(function (_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                options = _args.length > 0 && _args[0] !== undefined ? _args[0] : {};\n\n                if (!this.isEnablingWeb3) {\n                  _context.next = 3;\n                  break;\n                }\n\n                throw new Error('Cannot execute Moralis.enableWeb3(), as Moralis Moralis.enableWeb3() already has been called, but is not finished yet ');\n\n              case 3:\n                _context.prev = 3;\n                this.isEnablingWeb3 = true;\n\n                if (this.speedyNodeApiKey) {\n                  options.speedyNodeApiKey = this.speedyNodeApiKey;\n                  options.provider = 'network';\n                }\n\n                Connector = (_options$connector = options === null || options === void 0 ? void 0 : options.connector) !== null && _options$connector !== void 0 ? _options$connector : MoralisWeb3.getWeb3Connector(options === null || options === void 0 ? void 0 : options.provider);\n                connector = new Connector(options);\n                anyNetwork = (options === null || options === void 0 ? void 0 : options.anyNetwork) === true ? true : false;\n                this.internalWeb3Provider = new _InternalWeb3Provider.default(connector, anyNetwork, options.privateKey);\n                this.internalWeb3Provider.on(_InternalWeb3Provider.InternalWeb3Events.ACCOUNT_CHANGED, function (args) {\n                  return _this.handleWeb3AccountChanged(args);\n                });\n                this.internalWeb3Provider.on(_InternalWeb3Provider.InternalWeb3Events.CHAIN_CHANGED, function (args) {\n                  return _this.handleWeb3ChainChanged(args);\n                });\n                this.internalWeb3Provider.on(_InternalWeb3Provider.InternalWeb3Events.PROVIDER_CONNECT, function (args) {\n                  return _this.handleWeb3Connect(args);\n                });\n                this.internalWeb3Provider.on(_InternalWeb3Provider.InternalWeb3Events.PROVIDER_DISCONNECT, function (args) {\n                  return _this.handleWeb3Disconnect(args);\n                });\n                _context.prev = 14;\n                _context.next = 17;\n                return this.internalWeb3Provider.activate(options);\n\n              case 17:\n                _yield$this$internalW = _context.sent;\n                provider = _yield$this$internalW.provider;\n                chainId = _yield$this$internalW.chainId;\n                account = _yield$this$internalW.account;\n                internalWeb3 = _yield$this$internalW.web3;\n\n                if (provider) {\n                  _context.next = 24;\n                  break;\n                }\n\n                throw new Error('Failed to activate, no provider returned');\n\n              case 24:\n                _context.next = 31;\n                break;\n\n              case 26:\n                _context.prev = 26;\n                _context.t0 = _context[\"catch\"](14);\n                _context.next = 30;\n                return this.cleanup();\n\n              case 30:\n                throw _context.t0;\n\n              case 31:\n                web3 = internalWeb3;\n                this.web3 = internalWeb3;\n                MoralisEmitter.emit(_InternalWeb3Provider.InternalWeb3Events.WEB3_ENABLED, {\n                  chainId: chainId,\n                  account: account,\n                  connector: connector,\n                  provider: provider,\n                  web3: web3\n                });\n                return _context.abrupt(\"return\", web3);\n\n              case 37:\n                _context.prev = 37;\n                _context.t1 = _context[\"catch\"](3);\n                throw _context.t1;\n\n              case 40:\n                _context.prev = 40;\n                this.isEnablingWeb3 = false;\n                return _context.finish(40);\n\n              case 43:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[3, 37, 40, 43], [14, 26]]);\n      }));\n\n      return function () {\n        return _enableWeb.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"isDotAuth\",\n    value: function (options) {\n      switch (options === null || options === void 0 ? void 0 : options.type) {\n        case 'dot':\n        case 'polkadot':\n        case 'kusama':\n          return true;\n\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: \"isElrondAuth\",\n    value: function (options) {\n      switch (options === null || options === void 0 ? void 0 : options.type) {\n        case 'erd':\n        case 'elrond':\n          return true;\n\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: \"isSolAuth\",\n    value: function (options) {\n      switch (options === null || options === void 0 ? void 0 : options.type) {\n        case 'sol':\n          return true;\n\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: \"getWeb3Connector\",\n    value: function (provider) {\n      switch (provider) {\n        case 'walletconnect':\n        case 'walletConnect':\n        case 'wc':\n          return _WalletConnectWeb3Connector.default;\n\n        case 'network':\n          return _NetworkWeb3Connector.default;\n\n        case 'magicLink':\n          return _MagicWeb3Connector.default;\n\n        case 'web3Auth':\n          return _Web3AuthConnector.Web3Auth;\n\n        default:\n          return _InjectedWeb3Connector.default;\n      }\n    }\n  }, {\n    key: \"deactivateWeb3\",\n    value: function () {\n      var _deactivateWeb = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee2() {\n        return _regenerator.default.wrap(function (_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                return _context2.abrupt(\"return\", this.cleanup());\n\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      return function () {\n        return _deactivateWeb.apply(this, arguments);\n      };\n    }()\n    /**\n     * Cleanup previously established provider\n     */\n\n  }, {\n    key: \"cleanup\",\n    value: function () {\n      var _cleanup = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee3() {\n        return _regenerator.default.wrap(function (_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!this.isEnablingWeb3) {\n                  _context3.next = 2;\n                  break;\n                }\n\n                return _context3.abrupt(\"return\");\n\n              case 2:\n                if (this.web3 && this.internalWeb3Provider) {\n                  MoralisEmitter.emit(_InternalWeb3Provider.InternalWeb3Events.WEB3_DEACTIVATED, {\n                    connector: this.internalWeb3Provider.connector,\n                    provider: this.internalWeb3Provider.provider\n                  });\n                }\n\n                if (!this.internalWeb3Provider) {\n                  _context3.next = 15;\n                  break;\n                }\n\n                this.internalWeb3Provider.removeListener(_InternalWeb3Provider.InternalWeb3Events.ACCOUNT_CHANGED, this.handleWeb3AccountChanged);\n                this.internalWeb3Provider.removeListener(_InternalWeb3Provider.InternalWeb3Events.CHAIN_CHANGED, this.handleWeb3ChainChanged);\n                this.internalWeb3Provider.removeListener(_InternalWeb3Provider.InternalWeb3Events.PROVIDER_CONNECT, this.handleWeb3Connect);\n                this.internalWeb3Provider.removeListener(_InternalWeb3Provider.InternalWeb3Events.PROVIDER_DISCONNECT, this.handleWeb3Disconnect); // For example, if walletconnect has been enabled, then later on metamask, then wc is not the internalProvider, but still has an active connection\n\n                _context3.prev = 8;\n                _context3.next = 11;\n                return this.internalWeb3Provider.deactivate();\n\n              case 11:\n                _context3.next = 15;\n                break;\n\n              case 13:\n                _context3.prev = 13;\n                _context3.t0 = _context3[\"catch\"](8);\n\n              case 15:\n                this.internalWeb3Provider = null;\n                this.web3 = null;\n\n              case 17:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[8, 13]]);\n      }));\n\n      return function () {\n        return _cleanup.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"authenticate\",\n    value: function () {\n      var _authenticate = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee4(options) {\n        var isLoggedIn, _this$getInternalWeb, account, internalWeb3, signer, message, data, ethAddress, signature, authData, user;\n\n        return _regenerator.default.wrap(function (_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return _ParseUser.default.currentAsync();\n\n              case 2:\n                isLoggedIn = _context4.sent;\n\n                if (!isLoggedIn) {\n                  _context4.next = 6;\n                  break;\n                }\n\n                _context4.next = 6;\n                return _ParseUser.default.logOut();\n\n              case 6:\n                if (!MoralisWeb3.isDotAuth(options)) {\n                  _context4.next = 8;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", _MoralisDot.default.authenticate(options));\n\n              case 8:\n                if (!MoralisWeb3.isElrondAuth(options)) {\n                  _context4.next = 10;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", _MoralisErd.default.authenticate(options));\n\n              case 10:\n                if (!MoralisWeb3.isSolAuth(options)) {\n                  _context4.next = 12;\n                  break;\n                }\n\n                return _context4.abrupt(\"return\", _MoralisSol.default.authenticate(options));\n\n              case 12:\n                _context4.next = 14;\n                return this.enableWeb3(options);\n\n              case 14:\n                _this$getInternalWeb = this.getInternalWeb3Provider(), account = _this$getInternalWeb.account, internalWeb3 = _this$getInternalWeb.web3, signer = _this$getInternalWeb.signer;\n\n                if (account) {\n                  _context4.next = 17;\n                  break;\n                }\n\n                throw new Error('Cannot authenticate, no account returned from provider');\n\n              case 17:\n                message = (options === null || options === void 0 ? void 0 : options.signingMessage) || MoralisWeb3.getSigningData();\n                _context4.next = 20;\n                return (0, _createSigningData.default)(message);\n\n              case 20:\n                data = _context4.sent;\n                ethAddress = account.toLowerCase();\n\n                if (ethAddress) {\n                  _context4.next = 24;\n                  break;\n                }\n\n                throw new Error('Address not found');\n\n              case 24:\n                _context4.next = 26;\n                return signer.signMessage(data);\n\n              case 26:\n                signature = _context4.sent;\n\n                if (signature) {\n                  _context4.next = 29;\n                  break;\n                }\n\n                throw new Error('Data not signed');\n\n              case 29:\n                authData = {\n                  id: ethAddress,\n                  signature: signature,\n                  data: data\n                };\n                _context4.next = 32;\n                return _ParseUser.default.logInWith('moralisEth', {\n                  authData: authData\n                });\n\n              case 32:\n                user = _context4.sent;\n\n                if (user) {\n                  _context4.next = 35;\n                  break;\n                }\n\n                throw new Error('Could not get user');\n\n              case 35:\n                _context4.next = 37;\n                return user.setACL(new _ParseACL.default(user));\n\n              case 37:\n                user.addAllUnique('accounts', [ethAddress]);\n                user.set('ethAddress', ethAddress);\n                _context4.next = 41;\n                return user.save(null, options);\n\n              case 41:\n                return _context4.abrupt(\"return\", user);\n\n              case 42:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      return function () {\n        return _authenticate.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"link\",\n    value: function () {\n      var _link = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee5(account, options) {\n        var _this$getInternalWeb2, signer, message, user, ethAddress, EthAddress, query, ethAddressRecord, data, signature, authData;\n\n        return _regenerator.default.wrap(function (_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _this$getInternalWeb2 = this.getInternalWeb3Provider(), signer = _this$getInternalWeb2.signer;\n                message = (options === null || options === void 0 ? void 0 : options.signingMessage) || MoralisWeb3.getSigningData();\n                _context5.next = 4;\n                return _ParseUser.default.currentAsync();\n\n              case 4:\n                user = _context5.sent;\n                ethAddress = account.toLowerCase();\n                EthAddress = _ParseObject.default.extend('_EthAddress');\n                query = new _ParseQuery.default(EthAddress);\n                _context5.next = 10;\n                return query.get(ethAddress).catch(function () {\n                  return null;\n                });\n\n              case 10:\n                ethAddressRecord = _context5.sent;\n\n                if (ethAddressRecord) {\n                  _context5.next = 23;\n                  break;\n                }\n\n                _context5.next = 14;\n                return (0, _createSigningData.default)(message);\n\n              case 14:\n                data = _context5.sent;\n                _context5.next = 17;\n                return signer.signMessage(data);\n\n              case 17:\n                signature = _context5.sent;\n\n                if (signature) {\n                  _context5.next = 20;\n                  break;\n                }\n\n                throw new Error('Data not signed');\n\n              case 20:\n                authData = {\n                  id: ethAddress,\n                  signature: signature,\n                  data: data\n                };\n                _context5.next = 23;\n                return user.linkWith('moralisEth', {\n                  authData: authData\n                });\n\n              case 23:\n                user.addAllUnique('accounts', [ethAddress]);\n                user.set('ethAddress', ethAddress);\n                _context5.next = 27;\n                return user.save(null, options);\n\n              case 27:\n                return _context5.abrupt(\"return\", user);\n\n              case 28:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      return function () {\n        return _link.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"unlink\",\n    value: function () {\n      var _unlink = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee6(account) {\n        var _user$get;\n\n        var accountsLower, EthAddress, query, ethAddressRecord, user, accounts, nextAccounts;\n        return _regenerator.default.wrap(function (_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                accountsLower = account.toLowerCase();\n                EthAddress = _ParseObject.default.extend('_EthAddress');\n                query = new _ParseQuery.default(EthAddress);\n                _context6.next = 5;\n                return query.get(accountsLower);\n\n              case 5:\n                ethAddressRecord = _context6.sent;\n                _context6.next = 8;\n                return ethAddressRecord.destroy();\n\n              case 8:\n                _context6.next = 10;\n                return _ParseUser.default.currentAsync();\n\n              case 10:\n                user = _context6.sent;\n                accounts = (_user$get = user.get('accounts')) !== null && _user$get !== void 0 ? _user$get : [];\n                nextAccounts = (0, _filter.default)(accounts).call(accounts, function (v) {\n                  return v !== accountsLower;\n                });\n                user.set('accounts', nextAccounts);\n                user.set('ethAddress', nextAccounts[0]);\n                _context6.next = 17;\n                return user._unlinkFrom('moralisEth');\n\n              case 17:\n                _context6.next = 19;\n                return user.save();\n\n              case 19:\n                return _context6.abrupt(\"return\", user);\n\n              case 20:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      return function () {\n        return _unlink.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"initPlugins\",\n    value: function () {\n      var _initPlugins = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee8(installedPlugins) {\n        var _this2 = this;\n\n        var specs, allPlugins;\n        return _regenerator.default.wrap(function (_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                _context10.t0 = installedPlugins;\n\n                if (_context10.t0) {\n                  _context10.next = 5;\n                  break;\n                }\n\n                _context10.next = 4;\n                return (0, _Cloud.run)('getPluginSpecs');\n\n              case 4:\n                _context10.t0 = _context10.sent;\n\n              case 5:\n                specs = _context10.t0;\n                if (!this.Plugins) this.Plugins = {};\n\n                if (specs) {\n                  _context10.next = 9;\n                  break;\n                }\n\n                return _context10.abrupt(\"return\");\n\n              case 9:\n                allPlugins = this.Plugins;\n                (0, _forEach.default)(specs).call(specs, function (plugin) {\n                  var _context7;\n\n                  allPlugins[plugin.name] = {};\n                  (0, _forEach.default)(_context7 = plugin.functions).call(_context7, function (f) {\n                    allPlugins[plugin.name][f] = /*#__PURE__*/function () {\n                      var _ref = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee7(params, options) {\n                        var _context8;\n\n                        var response, error, triggerReturn;\n                        return _regenerator.default.wrap(function (_context9) {\n                          while (1) {\n                            switch (_context9.prev = _context9.next) {\n                              case 0:\n                                if (!options) options = {};\n                                _context9.next = 3;\n                                return (0, _Cloud.run)((0, _concat.default)(_context8 = \"\".concat(plugin.name, \"_\")).call(_context8, f), params);\n\n                              case 3:\n                                response = _context9.sent;\n\n                                if (response.data.success) {\n                                  _context9.next = 7;\n                                  break;\n                                }\n\n                                error = (0, _stringify.default)(response.data.data, null, 2);\n                                throw new Error(\"Something went wrong\\n\".concat(error));\n\n                              case 7:\n                                if (!(options.disableTriggers !== true)) {\n                                  _context9.next = 13;\n                                  break;\n                                }\n\n                                _context9.next = 10;\n                                return _this2.handleTriggers(response.data.result.triggers, response.data.result.data);\n\n                              case 10:\n                                triggerReturn = _context9.sent;\n\n                                if (!triggerReturn) {\n                                  _context9.next = 13;\n                                  break;\n                                }\n\n                                return _context9.abrupt(\"return\", triggerReturn);\n\n                              case 13:\n                                return _context9.abrupt(\"return\", response.data.result);\n\n                              case 14:\n                              case \"end\":\n                                return _context9.stop();\n                            }\n                          }\n                        }, _callee7);\n                      }));\n\n                      return function () {\n                        return _ref.apply(this, arguments);\n                      };\n                    }();\n                  });\n                });\n                this.Plugins = allPlugins;\n\n              case 12:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      return function () {\n        return _initPlugins.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"handleTriggers\",\n    value: function () {\n      var _handleTriggers = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee9(triggersArray, payload) {\n        var _this3 = this;\n\n        var _loop, i, _ret;\n\n        return _regenerator.default.wrap(function (_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                if (triggersArray) {\n                  _context14.next = 2;\n                  break;\n                }\n\n                return _context14.abrupt(\"return\");\n\n              case 2:\n                _loop = /*#__PURE__*/_regenerator.default.mark(function _loop(i) {\n                  var _triggersArray$i, _triggersArray$i$data, _triggersArray$i2, _triggersArray$i2$dat, _triggersArray$i$data2, _triggersArray$i3, _triggersArray$i3$dat, _triggersArray$i4, _triggersArray$i4$dat, _triggersArray$i5, _triggersArray$i6, _triggersArray$i7, _triggersArray$i8, _triggersArray$i9, _triggersArray$i10, _triggersArray$i11, _triggersArray$i12, _triggersArray$i13, _triggersArray$i14, _triggersArray$i15, _triggersArray$i16, _triggersArray$i17, _triggersArray$i18, _triggersArray$i19, _triggersArray$i21, _triggersArray$i23, _triggersArray$i24, _triggersArray$i25;\n\n                  var _response, _context11, _context12, _triggersArray$i20, _JSON$parse, domain, types, message, signature, result, _JSON$parse2, _domain, _types, _message;\n\n                  return _regenerator.default.wrap(function (_context13) {\n                    while (1) {\n                      switch (_context13.prev = _context13.next) {\n                        case 0:\n                          _context13.t0 = triggersArray[i].name;\n                          _context13.next = _context13.t0 === 'openUrl' ? 3 : _context13.t0 === 'web3Transaction' ? 5 : _context13.t0 === 'web3Sign' ? 18 : _context13.t0 === 'callPluginEndpoint' ? 35 : _context13.t0 === 'web3SignV4' ? 57 : 82;\n                          break;\n\n                        case 3:\n                          if (triggersArray[i].newTab) window.open(triggersArray[i].url);else window.open(triggersArray[i].url, '_self');\n                          return _context13.abrupt(\"break\", 83);\n\n                        case 5:\n                          _context13.next = 7;\n                          return _this3.getInternalWeb3Provider().signer.sendTransaction({\n                            from: (_triggersArray$i = triggersArray[i]) === null || _triggersArray$i === void 0 ? void 0 : (_triggersArray$i$data = _triggersArray$i.data) === null || _triggersArray$i$data === void 0 ? void 0 : _triggersArray$i$data.from,\n                            to: (_triggersArray$i2 = triggersArray[i]) === null || _triggersArray$i2 === void 0 ? void 0 : (_triggersArray$i2$dat = _triggersArray$i2.data) === null || _triggersArray$i2$dat === void 0 ? void 0 : _triggersArray$i2$dat.to,\n                            value: _ethers.ethers.BigNumber.from((_triggersArray$i$data2 = (_triggersArray$i3 = triggersArray[i]) === null || _triggersArray$i3 === void 0 ? void 0 : (_triggersArray$i3$dat = _triggersArray$i3.data) === null || _triggersArray$i3$dat === void 0 ? void 0 : _triggersArray$i3$dat.value) !== null && _triggersArray$i$data2 !== void 0 ? _triggersArray$i$data2 : 0),\n                            data: (_triggersArray$i4 = triggersArray[i]) === null || _triggersArray$i4 === void 0 ? void 0 : (_triggersArray$i4$dat = _triggersArray$i4.data) === null || _triggersArray$i4$dat === void 0 ? void 0 : _triggersArray$i4$dat.data\n                          });\n\n                        case 7:\n                          _response = _context13.sent;\n\n                          if (!(((_triggersArray$i5 = triggersArray[i]) === null || _triggersArray$i5 === void 0 ? void 0 : _triggersArray$i5.shouldAwait) === true)) {\n                            _context13.next = 12;\n                            break;\n                          }\n\n                          _context13.next = 11;\n                          return _response.wait();\n\n                        case 11:\n                          _response = _context13.sent;\n\n                        case 12:\n                          // Save the response returned by the web3 trasanction\n                          if (((_triggersArray$i6 = triggersArray[i]) === null || _triggersArray$i6 === void 0 ? void 0 : _triggersArray$i6.saveResponse) === true) _this3.memoryCard.save(_response); // Return payload and response\n\n                          if (!(((_triggersArray$i7 = triggersArray[i]) === null || _triggersArray$i7 === void 0 ? void 0 : _triggersArray$i7.shouldReturnPayload) === true)) {\n                            _context13.next = 15;\n                            break;\n                          }\n\n                          return _context13.abrupt(\"return\", {\n                            v: {\n                              payload: payload,\n                              response: _response\n                            }\n                          });\n\n                        case 15:\n                          if (!(((_triggersArray$i8 = triggersArray[i]) === null || _triggersArray$i8 === void 0 ? void 0 : _triggersArray$i8.shouldReturnResponse) === true)) {\n                            _context13.next = 17;\n                            break;\n                          }\n\n                          return _context13.abrupt(\"return\", {\n                            v: _response\n                          });\n\n                        case 17:\n                          return _context13.abrupt(\"break\", 83);\n\n                        case 18:\n                          if (triggersArray[i].message) {\n                            _context13.next = 20;\n                            break;\n                          }\n\n                          throw new Error('web3Sign trigger does not have a message to sign');\n\n                        case 20:\n                          if (!(!triggersArray[i].signer || triggersArray[i].signer)) {\n                            _context13.next = 22;\n                            break;\n                          }\n\n                          throw new Error('web3Sign trigger signer address missing or invalid');\n\n                        case 22:\n                          _context13.next = 24;\n                          return _this3.getInternalWeb3Provider().signer.signMessage(triggersArray[i].message);\n\n                        case 24:\n                          _response = _context13.sent;\n\n                          if (!((_triggersArray$i9 = triggersArray[i]) !== null && _triggersArray$i9 !== void 0 && _triggersArray$i9.shouldAwait)) {\n                            _context13.next = 29;\n                            break;\n                          }\n\n                          _context13.next = 28;\n                          return _response.wait();\n\n                        case 28:\n                          _response = _context13.sent;\n\n                        case 29:\n                          // Save response\n                          if (((_triggersArray$i10 = triggersArray[i]) === null || _triggersArray$i10 === void 0 ? void 0 : _triggersArray$i10.saveResponse) === true) _this3.memoryCard.save(_response); // Return payload and response\n\n                          if (!(((_triggersArray$i11 = triggersArray[i]) === null || _triggersArray$i11 === void 0 ? void 0 : _triggersArray$i11.shouldReturnPayload) === true)) {\n                            _context13.next = 32;\n                            break;\n                          }\n\n                          return _context13.abrupt(\"return\", {\n                            v: {\n                              payload: payload,\n                              response: _response\n                            }\n                          });\n\n                        case 32:\n                          if (!(((_triggersArray$i12 = triggersArray[i]) === null || _triggersArray$i12 === void 0 ? void 0 : _triggersArray$i12.shouldReturnResponse) === true)) {\n                            _context13.next = 34;\n                            break;\n                          }\n\n                          return _context13.abrupt(\"return\", {\n                            v: _response\n                          });\n\n                        case 34:\n                          return _context13.abrupt(\"break\", 83);\n\n                        case 35:\n                          if (triggersArray[i].pluginName) {\n                            _context13.next = 37;\n                            break;\n                          }\n\n                          throw new Error('callPluginEndpoint trigger does not have an plugin name to call');\n\n                        case 37:\n                          if (triggersArray[i].endpoint) {\n                            _context13.next = 39;\n                            break;\n                          }\n\n                          throw new Error('callPluginEndpoint trigger does not have an endpoint to call');\n\n                        case 39:\n                          if (!(((_triggersArray$i13 = triggersArray[i]) === null || _triggersArray$i13 === void 0 ? void 0 : _triggersArray$i13.shouldAwait) === true)) {\n                            _context13.next = 44;\n                            break;\n                          } // Check if a saved response has to be used to fill a parameter needed by the plugin\n\n\n                          if (triggersArray[i].useSavedResponse === true) {\n                            triggersArray[i].params[triggersArray[i].savedResponseAs] = _this3.memoryCard.get(triggersArray[i].savedResponseAt);\n                          } // Call the endpoint\n\n\n                          _context13.next = 43;\n                          return (0, _Cloud.run)((0, _concat.default)(_context11 = \"\".concat(triggersArray[i].pluginName, \"_\")).call(_context11, triggersArray[i].endpoint), triggersArray[i].params);\n\n                        case 43:\n                          _response = _context13.sent;\n\n                        case 44:\n                          // Call a plugin endpoint (does NOT await)\n                          if (((_triggersArray$i14 = triggersArray[i]) === null || _triggersArray$i14 === void 0 ? void 0 : _triggersArray$i14.shouldAwait) === false) {\n                            // Check if a saved response has to be used to fill a parameter needed by the plugin\n                            if (triggersArray[i].useSavedResponse === true) {\n                              triggersArray[i].params[triggersArray[i].savedResponseAs] = _this3.memoryCard.get(triggersArray[i].savedResponseAt);\n                            } // Call the endpoint\n\n\n                            _response = (0, _Cloud.run)((0, _concat.default)(_context12 = \"\".concat(triggersArray[i].pluginName, \"_\")).call(_context12, triggersArray[i].endpoint), triggersArray[i].params);\n                          } // If the response contains a trigger, run it\n\n\n                          if (!(triggersArray[i].runResponseTrigger === true)) {\n                            _context13.next = 49;\n                            break;\n                          }\n\n                          _context13.next = 48;\n                          return _this3.handleTriggers(_response.data.result.triggers, _response.data.result.data);\n\n                        case 48:\n                          _response = _context13.sent;\n\n                        case 49:\n                          // Save response\n                          if (((_triggersArray$i15 = triggersArray[i]) === null || _triggersArray$i15 === void 0 ? void 0 : _triggersArray$i15.saveResponse) === true) _this3.memoryCard.save(_response); // If should not run the response trigger, continues the loop and does not return (to avoid breaking the loop execution and run other pending triggers)\n\n                          if (!(((_triggersArray$i16 = triggersArray[i]) === null || _triggersArray$i16 === void 0 ? void 0 : _triggersArray$i16.runResponseTrigger) === false)) {\n                            _context13.next = 52;\n                            break;\n                          }\n\n                          return _context13.abrupt(\"return\", \"continue\");\n\n                        case 52:\n                          if (!(((_triggersArray$i17 = triggersArray[i]) === null || _triggersArray$i17 === void 0 ? void 0 : _triggersArray$i17.shouldReturnPayload) === true)) {\n                            _context13.next = 54;\n                            break;\n                          }\n\n                          return _context13.abrupt(\"return\", {\n                            v: {\n                              payload: 'payload',\n                              response: _response\n                            }\n                          });\n\n                        case 54:\n                          if (!(((_triggersArray$i18 = triggersArray[i]) === null || _triggersArray$i18 === void 0 ? void 0 : _triggersArray$i18.shouldReturnResponse) === true)) {\n                            _context13.next = 56;\n                            break;\n                          }\n\n                          return _context13.abrupt(\"return\", {\n                            v: _response\n                          });\n\n                        case 56:\n                          return _context13.abrupt(\"break\", 83);\n\n                        case 57:\n                          if (triggersArray[i].parameters) {\n                            _context13.next = 59;\n                            break;\n                          }\n\n                          throw new Error('web3SignV4 trigger does not have `parameters` to sign');\n\n                        case 59:\n                          if (triggersArray[i].from) {\n                            _context13.next = 61;\n                            break;\n                          }\n\n                          throw new Error('web3SignV4 trigger does not have a `from` address');\n\n                        case 61:\n                          if (!(((_triggersArray$i19 = triggersArray[i]) === null || _triggersArray$i19 === void 0 ? void 0 : _triggersArray$i19.shouldAwait) === true)) {\n                            _context13.next = 76;\n                            break;\n                          }\n\n                          _context13.prev = 62;\n                          _JSON$parse = JSON.parse(triggersArray[i].parameters[1]), domain = _JSON$parse.domain, types = _JSON$parse.types, message = _JSON$parse.message;\n\n                          if (types.EIP712Domain) {\n                            // Ethers.js will compute this automatically\n                            delete types.EIP712Domain;\n                          }\n\n                          _context13.next = 67;\n                          return _this3.getInternalWeb3Provider().signer._signTypedData(domain, types, message);\n\n                        case 67:\n                          signature = _context13.sent;\n                          result = {\n                            result: signature\n                          };\n                          if (((_triggersArray$i20 = triggersArray[i]) === null || _triggersArray$i20 === void 0 ? void 0 : _triggersArray$i20.saveResponse) === true) _this3.memoryCard.save(result);\n                          _response = result;\n                          _context13.next = 76;\n                          break;\n\n                        case 73:\n                          _context13.prev = 73;\n                          _context13.t1 = _context13[\"catch\"](62);\n                          throw new Error(_context13.t1.message || _context13.t1);\n\n                        case 76:\n                          if (((_triggersArray$i21 = triggersArray[i]) === null || _triggersArray$i21 === void 0 ? void 0 : _triggersArray$i21.shouldAwait) === false) {\n                            _JSON$parse2 = JSON.parse(triggersArray[i].parameters[1]), _domain = _JSON$parse2.domain, _types = _JSON$parse2.types, _message = _JSON$parse2.message;\n\n                            if (_types.EIP712Domain) {\n                              // Ethers.js will compute this automatically\n                              delete _types.EIP712Domain;\n                            }\n\n                            _this3.getInternalWeb3Provider().signer._signTypedData(_domain, _types, _message) // eslint-disable-next-line no-loop-func\n                            .then(function (signature) {\n                              var _triggersArray$i22;\n\n                              var result = {\n                                result: signature\n                              };\n                              if (((_triggersArray$i22 = triggersArray[i]) === null || _triggersArray$i22 === void 0 ? void 0 : _triggersArray$i22.saveResponse) === true) _this3.memoryCard.save(result);\n                              _response = result;\n                            }).catch(function (error) {\n                              throw new Error(error.message || error);\n                            });\n                          } // Return payload and response\n\n\n                          if (!(((_triggersArray$i23 = triggersArray[i]) === null || _triggersArray$i23 === void 0 ? void 0 : _triggersArray$i23.shouldReturnPayload) === true)) {\n                            _context13.next = 79;\n                            break;\n                          }\n\n                          return _context13.abrupt(\"return\", {\n                            v: {\n                              payload: payload,\n                              response: _response\n                            }\n                          });\n\n                        case 79:\n                          if (!(((_triggersArray$i24 = triggersArray[i]) === null || _triggersArray$i24 === void 0 ? void 0 : _triggersArray$i24.shouldReturnResponse) === true)) {\n                            _context13.next = 81;\n                            break;\n                          }\n\n                          return _context13.abrupt(\"return\", {\n                            v: _response\n                          });\n\n                        case 81:\n                          return _context13.abrupt(\"break\", 83);\n\n                        case 82:\n                          throw new Error(\"Unknown trigger: \\\"\".concat((_triggersArray$i25 = triggersArray[i]) === null || _triggersArray$i25 === void 0 ? void 0 : _triggersArray$i25.name, \"\\\"\"));\n\n                        case 83:\n                        case \"end\":\n                          return _context13.stop();\n                      }\n                    }\n                  }, _loop, null, [[62, 73]]);\n                });\n                i = 0;\n\n              case 4:\n                if (!(i < triggersArray.length)) {\n                  _context14.next = 14;\n                  break;\n                }\n\n                return _context14.delegateYield(_loop(i), \"t0\", 6);\n\n              case 6:\n                _ret = _context14.t0;\n\n                if (!(_ret === \"continue\")) {\n                  _context14.next = 9;\n                  break;\n                }\n\n                return _context14.abrupt(\"continue\", 11);\n\n              case 9:\n                if (!((0, _typeof2.default)(_ret) === \"object\")) {\n                  _context14.next = 11;\n                  break;\n                }\n\n                return _context14.abrupt(\"return\", _ret.v);\n\n              case 11:\n                i++;\n                _context14.next = 4;\n                break;\n\n              case 14:\n                // Delete all saved data\n                this.memoryCard.deleteSaved();\n\n              case 15:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      return function () {\n        return _handleTriggers.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getAllERC20\",\n    value: function () {\n      var _getAllERC = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee10() {\n        var _ref2,\n            chain,\n            address,\n            result,\n            _args11 = arguments;\n\n        return _regenerator.default.wrap(function (_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                _ref2 = _args11.length > 0 && _args11[0] !== undefined ? _args11[0] : {}, chain = _ref2.chain, address = _ref2.address;\n                _context15.next = 3;\n                return (0, _Cloud.run)('getAllERC20', {\n                  chain: chain,\n                  address: address\n                });\n\n              case 3:\n                result = _context15.sent;\n                return _context15.abrupt(\"return\", result);\n\n              case 5:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee10);\n      }));\n\n      return function () {\n        return _getAllERC.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getERC20\",\n    value: function () {\n      var _getERC = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee11() {\n        var _ref3,\n            chain,\n            address,\n            symbol,\n            tokenAddress,\n            result,\n            _args12 = arguments;\n\n        return _regenerator.default.wrap(function (_context16) {\n          while (1) {\n            switch (_context16.prev = _context16.next) {\n              case 0:\n                _ref3 = _args12.length > 0 && _args12[0] !== undefined ? _args12[0] : {}, chain = _ref3.chain, address = _ref3.address, symbol = _ref3.symbol, tokenAddress = _ref3.tokenAddress;\n                result = (0, _Cloud.run)('getERC20', {\n                  chain: chain,\n                  address: address,\n                  symbol: symbol,\n                  tokenAddress: tokenAddress\n                });\n                return _context16.abrupt(\"return\", result);\n\n              case 3:\n              case \"end\":\n                return _context16.stop();\n            }\n          }\n        }, _callee11);\n      }));\n\n      return function () {\n        return _getERC.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getNFTs\",\n    value: function () {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref4$chain = _ref4.chain,\n          chain = _ref4$chain === void 0 ? 'Eth' : _ref4$chain,\n          _ref4$address = _ref4.address,\n          address = _ref4$address === void 0 ? '' : _ref4$address;\n\n      return (0, _Cloud.run)('getNFTs_old', {\n        chain: chain,\n        address: address\n      });\n    }\n  }, {\n    key: \"getNFTsCount\",\n    value: function () {\n      var _ref5 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref5$chain = _ref5.chain,\n          chain = _ref5$chain === void 0 ? 'Eth' : _ref5$chain,\n          _ref5$address = _ref5.address,\n          address = _ref5$address === void 0 ? '' : _ref5$address;\n\n      return (0, _Cloud.run)('getNFTsCount_old', {\n        chain: chain,\n        address: address\n      });\n    }\n  }, {\n    key: \"getTransactions\",\n    value: function () {\n      var _ref6 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref6$chain = _ref6.chain,\n          chain = _ref6$chain === void 0 ? 'Eth' : _ref6$chain,\n          _ref6$address = _ref6.address,\n          address = _ref6$address === void 0 ? '' : _ref6$address,\n          _ref6$order = _ref6.order,\n          order = _ref6$order === void 0 ? 'desc' : _ref6$order;\n\n      return (0, _Cloud.run)('getTransactions', {\n        chain: chain,\n        address: address,\n        order: order\n      });\n    }\n  }, {\n    key: \"getTransactionsCount\",\n    value: function () {\n      var _ref7 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          _ref7$chain = _ref7.chain,\n          chain = _ref7$chain === void 0 ? 'Eth' : _ref7$chain,\n          _ref7$address = _ref7.address,\n          address = _ref7$address === void 0 ? '' : _ref7$address;\n\n      return (0, _Cloud.run)('getTransactionsCount', {\n        chain: chain,\n        address: address\n      });\n    }\n  }, {\n    key: \"transfer\",\n    value: function () {\n      var _transfer = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee12() {\n        var _ref8,\n            _ref8$type,\n            type,\n            _ref8$receiver,\n            receiver,\n            _ref8$contractAddress,\n            contractAddress,\n            contract_address,\n            _ref8$amount,\n            amount,\n            _ref8$tokenId,\n            tokenId,\n            token_id,\n            _ref8$system,\n            system,\n            options,\n            _this$getInternalWeb3,\n            internalWeb3,\n            sender,\n            signer,\n            transferOperation,\n            customToken,\n            result,\n            _args13 = arguments;\n\n        return _regenerator.default.wrap(function (_context17) {\n          while (1) {\n            switch (_context17.prev = _context17.next) {\n              case 0:\n                _ref8 = _args13.length > 0 && _args13[0] !== undefined ? _args13[0] : {}, _ref8$type = _ref8.type, type = _ref8$type === void 0 ? 'native' : _ref8$type, _ref8$receiver = _ref8.receiver, receiver = _ref8$receiver === void 0 ? '' : _ref8$receiver, _ref8$contractAddress = _ref8.contractAddress, contractAddress = _ref8$contractAddress === void 0 ? '' : _ref8$contractAddress, contract_address = _ref8.contract_address, _ref8$amount = _ref8.amount, amount = _ref8$amount === void 0 ? '' : _ref8$amount, _ref8$tokenId = _ref8.tokenId, tokenId = _ref8$tokenId === void 0 ? '' : _ref8$tokenId, token_id = _ref8.token_id, _ref8$system = _ref8.system, system = _ref8$system === void 0 ? 'evm' : _ref8$system; // Allow snake-case for backwards compatibility\n                // eslint-disable-next-line camelcase\n\n                contractAddress = contractAddress || contract_address; // eslint-disable-next-line camelcase\n\n                tokenId = tokenId || token_id;\n                options = {\n                  receiver: receiver,\n                  contractAddress: contractAddress,\n                  amount: amount,\n                  tokenId: tokenId,\n                  system: system\n                };\n\n                _TransferUtils.default.isSupportedType(type);\n\n                _TransferUtils.default.validateInput(type, options);\n\n                _this$getInternalWeb3 = this.getInternalWeb3Provider(), internalWeb3 = _this$getInternalWeb3.web3, sender = _this$getInternalWeb3.account, signer = _this$getInternalWeb3.signer;\n\n                if (sender) {\n                  _context17.next = 9;\n                  break;\n                }\n\n                throw new Error('Sender address not found');\n\n              case 9:\n                if (tokenId) _TransferUtils.default.isUint256(tokenId);\n\n                if (type !== 'native') {\n                  customToken = new _ethers.ethers.Contract(contractAddress, _TransferUtils.default.abi[type], signer);\n                }\n\n                _context17.t0 = type;\n                _context17.next = _context17.t0 === 'native' ? 14 : _context17.t0 === 'erc20' ? 16 : _context17.t0 === 'erc721' ? 18 : _context17.t0 === 'erc1155' ? 20 : 22;\n                break;\n\n              case 14:\n                transferOperation = signer.sendTransaction({\n                  to: receiver,\n                  value: _ethers.ethers.BigNumber.from(amount)\n                });\n                return _context17.abrupt(\"break\", 23);\n\n              case 16:\n                transferOperation = customToken.transfer(receiver, amount, {\n                  from: sender\n                });\n                return _context17.abrupt(\"break\", 23);\n\n              case 18:\n                transferOperation = customToken.safeTransferFrom(sender, receiver, \"\".concat(tokenId), {\n                  from: sender\n                });\n                return _context17.abrupt(\"break\", 23);\n\n              case 20:\n                transferOperation = customToken.safeTransferFrom(sender, receiver, \"\".concat(tokenId), amount, '0x', {\n                  from: sender\n                });\n                return _context17.abrupt(\"break\", 23);\n\n              case 22:\n                throw new Error(\"Unknown transfer type: \\\"\".concat(type, \"\\\"\"));\n\n              case 23:\n                _context17.next = 25;\n                return transferOperation;\n\n              case 25:\n                result = _context17.sent;\n                return _context17.abrupt(\"return\", result);\n\n              case 27:\n              case \"end\":\n                return _context17.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n\n      return function () {\n        return _transfer.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"executeFunction\",\n    value: function () {\n      var _executeFunction = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee13() {\n        var _functionData, _context25, _context26;\n\n        var _ref9,\n            contractAddress,\n            abi,\n            functionName,\n            msgValue,\n            _ref9$params,\n            params,\n            _ref9$overrides,\n            overrides,\n            contractOptions,\n            _this$getInternalWeb4,\n            account,\n            internalWeb3,\n            provider,\n            signerOrProvider,\n            overloadedFunction,\n            functionData,\n            _context18,\n            _context19,\n            nameWithoutTopics,\n            topics,\n            functionDataArray,\n            possibleTopics,\n            _functionDataArray,\n            _possibleTopics,\n            stateMutability,\n            isReadFunction,\n            currentAddress,\n            errors,\n            _iterator,\n            _step,\n            input,\n            value,\n            parsedInputs,\n            contract,\n            contractMethod,\n            response,\n            _args14 = arguments;\n\n        return _regenerator.default.wrap(function (_context27) {\n          while (1) {\n            switch (_context27.prev = _context27.next) {\n              case 0:\n                _ref9 = _args14.length > 0 && _args14[0] !== undefined ? _args14[0] : {}, contractAddress = _ref9.contractAddress, abi = _ref9.abi, functionName = _ref9.functionName, msgValue = _ref9.msgValue, _ref9$params = _ref9.params, params = _ref9$params === void 0 ? {} : _ref9$params, _ref9$overrides = _ref9.overrides, overrides = _ref9$overrides === void 0 ? {} : _ref9$overrides;\n                contractOptions = {};\n                _this$getInternalWeb4 = this.getInternalWeb3Provider(), account = _this$getInternalWeb4.account, internalWeb3 = _this$getInternalWeb4.web3, provider = _this$getInternalWeb4.provider, signerOrProvider = _this$getInternalWeb4.signerOrProvider; // Check if function is an overloaded function definition. ex \"getMessage(string)\", or \"getMessage()\"\n\n                overloadedFunction = functionName.match(/^(.+)\\((.*)\\)$/);\n\n                if (!overloadedFunction) {\n                  _context27.next = 16;\n                  break;\n                } // Get functiondata from overloaded function\n\n\n                nameWithoutTopics = overloadedFunction[1];\n                topics = (0, _filter.default)(_context18 = (0, _map.default)(_context19 = overloadedFunction[2].split(',')).call(_context19, function (topic) {\n                  return (0, _trim.default)(topic).call(topic);\n                })).call(_context18, function (topic) {\n                  return !!topic;\n                });\n                functionDataArray = (0, _filter.default)(abi).call(abi, function (x) {\n                  return x.name === nameWithoutTopics;\n                });\n\n                if (!(functionDataArray.length === 0)) {\n                  _context27.next = 10;\n                  break;\n                }\n\n                throw new Error('Function does not exist in abi');\n\n              case 10:\n                functionData = (0, _find.default)(functionDataArray).call(functionDataArray, function (data) {\n                  var _data$inputs$length, _context20;\n\n                  return ((_data$inputs$length = data === null || data === void 0 ? void 0 : data.inputs.length) !== null && _data$inputs$length !== void 0 ? _data$inputs$length : 0) === topics.length && (0, _every.default)(_context20 = data.inputs).call(_context20, function (input, index) {\n                    return input.type === topics[index];\n                  });\n                });\n\n                if (functionData) {\n                  _context27.next = 14;\n                  break;\n                }\n\n                possibleTopics = (0, _map.default)(functionDataArray).call(functionDataArray, function (data) {\n                  var _context21, _context22;\n\n                  return (0, _concat.default)(_context21 = \"\".concat(data.name, \"(\")).call(_context21, (0, _map.default)(_context22 = data.inputs).call(_context22, function (input) {\n                    return input.type;\n                  }).join(','), \")\");\n                });\n                throw new Error(\"Function with the provided topic does not exist in abi. Possible funcationNames: \".concat(possibleTopics.join(' ,')));\n\n              case 14:\n                _context27.next = 23;\n                break;\n\n              case 16:\n                // Get functiondata from 'normal' function\n                _functionDataArray = (0, _filter.default)(abi).call(abi, function (x) {\n                  return x.name === functionName;\n                });\n\n                if (!(_functionDataArray.length === 0)) {\n                  _context27.next = 19;\n                  break;\n                }\n\n                throw new Error('Function does not exist in abi');\n\n              case 19:\n                if (!(_functionDataArray.length > 1)) {\n                  _context27.next = 22;\n                  break;\n                }\n\n                _possibleTopics = (0, _map.default)(_functionDataArray).call(_functionDataArray, function (data) {\n                  var _context23, _context24;\n\n                  return (0, _concat.default)(_context23 = \"\".concat(data.name, \"(\")).call(_context23, (0, _map.default)(_context24 = data.inputs).call(_context24, function (input) {\n                    return input.type;\n                  }).join(','), \")\");\n                });\n                throw new Error(\"Multiple function definitions found in the abi. Please include the topic in the functionName. Possible funcationNames: \".concat(_possibleTopics.join(' ,')));\n\n              case 22:\n                functionData = _functionDataArray[0];\n\n              case 23:\n                stateMutability = (_functionData = functionData) === null || _functionData === void 0 ? void 0 : _functionData.stateMutability;\n                isReadFunction = stateMutability === 'view' || stateMutability === 'pure';\n\n                if (isReadFunction) {\n                  _context27.next = 31;\n                  break;\n                }\n\n                if (params.from) {\n                  _context27.next = 31;\n                  break;\n                }\n\n                currentAddress = account;\n\n                if (currentAddress) {\n                  _context27.next = 30;\n                  break;\n                }\n\n                throw new Error('From address is required');\n\n              case 30:\n                contractOptions.from = currentAddress;\n\n              case 31:\n                errors = [];\n                _iterator = _createForOfIteratorHelper(functionData.inputs);\n\n                try {\n                  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                    input = _step.value;\n                    value = params[input.name];\n\n                    if (!value && typeof value !== 'number' && typeof value !== 'boolean' && input.name !== '') {\n                      errors.push(\"\".concat(input.name, \" is required\"));\n                    }\n                  }\n                } catch (err) {\n                  _iterator.e(err);\n                } finally {\n                  _iterator.f();\n                }\n\n                if (!(errors.length > 0)) {\n                  _context27.next = 36;\n                  break;\n                }\n\n                throw errors;\n\n              case 36:\n                parsedInputs = (0, _map.default)(_context25 = functionData.inputs).call(_context25, function (x) {\n                  return params[x.name];\n                });\n                contract = new _ethers.ethers.Contract(contractAddress, abi, signerOrProvider);\n                contractMethod = contract[functionName];\n\n                if (contractMethod) {\n                  _context27.next = 41;\n                  break;\n                }\n\n                throw new Error(\"Cannot find function \\\"\".concat(functionName, \"\\\" on the contract\"));\n\n              case 41:\n                _context27.next = 43;\n                return contractMethod.apply(void 0, (0, _concat.default)(_context26 = (0, _toConsumableArray2.default)((0, _values.default)(parsedInputs))).call(_context26, [msgValue ? {\n                  value: _ethers.ethers.BigNumber.from(\"\".concat(msgValue))\n                } : {}]));\n\n              case 43:\n                response = _context27.sent;\n                return _context27.abrupt(\"return\", response);\n\n              case 45:\n              case \"end\":\n                return _context27.stop();\n            }\n          }\n        }, _callee13, this);\n      }));\n\n      return function () {\n        return _executeFunction.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"getSigningData\",\n    value: function () {\n      return \"Moralis Authentication\";\n    }\n  }, {\n    key: \"ensureWeb3IsInstalled\",\n    value: function () {\n      return this.internalWeb3Provider && this.internalWeb3Provider.web3 ? true : false;\n    }\n    /**\n     * Gets the internalWeb3Provider with validation to make sure it has been instansiated with 'enableWeb3()'\n     */\n\n  }, {\n    key: \"getInternalWeb3Provider\",\n    value: function () {\n      if (!this.ensureWeb3IsInstalled()) throw new Error(ERROR_WEB3_MISSING);\n      return this.internalWeb3Provider;\n    }\n    /**\n     * Gets web3 from the internalWeb3Provider with validation to make sure it has been instansiated with 'enableWeb3()'\n     */\n\n  }, {\n    key: \"getInternalWeb3\",\n    value: function () {\n      return this.getInternalWeb3Provider().web3;\n    }\n  }, {\n    key: \"provider\",\n    get: function () {\n      var _this$internalWeb3Pro2, _this$internalWeb3Pro3;\n\n      return (_this$internalWeb3Pro2 = (_this$internalWeb3Pro3 = this.internalWeb3Provider) === null || _this$internalWeb3Pro3 === void 0 ? void 0 : _this$internalWeb3Pro3.provider) !== null && _this$internalWeb3Pro2 !== void 0 ? _this$internalWeb3Pro2 : null;\n    }\n  }, {\n    key: \"connector\",\n    get: function () {\n      var _this$internalWeb3Pro4, _this$internalWeb3Pro5;\n\n      return (_this$internalWeb3Pro4 = (_this$internalWeb3Pro5 = this.internalWeb3Provider) === null || _this$internalWeb3Pro5 === void 0 ? void 0 : _this$internalWeb3Pro5.connector) !== null && _this$internalWeb3Pro4 !== void 0 ? _this$internalWeb3Pro4 : null;\n    }\n  }, {\n    key: \"connectorType\",\n    get: function () {\n      var _this$connector$type, _this$connector;\n\n      return (_this$connector$type = (_this$connector = this.connector) === null || _this$connector === void 0 ? void 0 : _this$connector.type) !== null && _this$connector$type !== void 0 ? _this$connector$type : null;\n    }\n  }, {\n    key: \"network\",\n    get: function () {\n      var _this$connector$netwo, _this$connector2;\n\n      return (_this$connector$netwo = (_this$connector2 = this.connector) === null || _this$connector2 === void 0 ? void 0 : _this$connector2.network) !== null && _this$connector$netwo !== void 0 ? _this$connector$netwo : null;\n    }\n  }, {\n    key: \"account\",\n    get: function () {\n      var _this$internalWeb3Pro6, _this$internalWeb3Pro7;\n\n      return (_this$internalWeb3Pro6 = (_this$internalWeb3Pro7 = this.internalWeb3Provider) === null || _this$internalWeb3Pro7 === void 0 ? void 0 : _this$internalWeb3Pro7.account) !== null && _this$internalWeb3Pro6 !== void 0 ? _this$internalWeb3Pro6 : null;\n    }\n  }, {\n    key: \"chainId\",\n    get: function () {\n      var _this$internalWeb3Pro8, _this$internalWeb3Pro9;\n\n      return (_this$internalWeb3Pro8 = (_this$internalWeb3Pro9 = this.internalWeb3Provider) === null || _this$internalWeb3Pro9 === void 0 ? void 0 : _this$internalWeb3Pro9.chainId) !== null && _this$internalWeb3Pro8 !== void 0 ? _this$internalWeb3Pro8 : null;\n    }\n  }, {\n    key: \"getChainId\",\n    value: function () {\n      return this.chainId;\n    }\n  }, {\n    key: \"web3Library\",\n    get: function () {\n      return _ethers.ethers;\n    }\n  }, {\n    key: \"_forwardToConnector\",\n    value: function (methodName, args) {\n      var _this$getInternalWeb5 = this.getInternalWeb3Provider(),\n          connector = _this$getInternalWeb5.connector;\n\n      var hasMethod = Boolean(connector[methodName]);\n\n      if (!hasMethod) {\n        var _context28;\n\n        throw new Error((0, _concat.default)(_context28 = \"Cannot call \".concat(methodName, \", as it does not exist on connector type \\\"\")).call(_context28, connector.type, \"\\\"\"));\n      }\n\n      return connector[methodName].apply(connector, (0, _toConsumableArray2.default)(args));\n    }\n  }, {\n    key: \"switchNetwork\",\n    value: function () {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return this._forwardToConnector('switchNetwork', args);\n    }\n  }, {\n    key: \"addNetwork\",\n    value: function () {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return this._forwardToConnector('addNetwork', args);\n    }\n  }, {\n    key: \"isMetaMaskInstalled\",\n    value: function () {\n      var _isMetaMaskInstalled = (0, _asyncToGenerator2.default)( /*#__PURE__*/_regenerator.default.mark(function _callee14() {\n        return _regenerator.default.wrap(function (_context29) {\n          while (1) {\n            switch (_context29.prev = _context29.next) {\n              case 0:\n                _context29.next = 2;\n                return (0, _detectProvider.default)();\n\n              case 2:\n                if (!_context29.sent) {\n                  _context29.next = 6;\n                  break;\n                }\n\n                _context29.t0 = true;\n                _context29.next = 7;\n                break;\n\n              case 6:\n                _context29.t0 = false;\n\n              case 7:\n                return _context29.abrupt(\"return\", _context29.t0);\n\n              case 8:\n              case \"end\":\n                return _context29.stop();\n            }\n          }\n        }, _callee14);\n      }));\n\n      return function () {\n        return _isMetaMaskInstalled.apply(this, arguments);\n      };\n    }()\n  }]);\n  return MoralisWeb3;\n}();\n\n(0, _defineProperty2.default)(MoralisWeb3, \"speedyNodeApiKey\", void 0);\n(0, _defineProperty2.default)(MoralisWeb3, \"web3\", null);\n(0, _defineProperty2.default)(MoralisWeb3, \"internalWeb3Provider\", null);\n(0, _defineProperty2.default)(MoralisWeb3, \"Plugins\", {});\n(0, _defineProperty2.default)(MoralisWeb3, \"isEnablingWeb3\", false);\n(0, _defineProperty2.default)(MoralisWeb3, \"memoryCard\", {\n  save: function (what) {\n    this.saved = what;\n  },\n  get: function (where) {\n    if (!this.saved) throw new Error('Nothing saved to memory card'); // In case the saved data is not an object but a simple string or number\n\n    if (where.length === 0) return this.getSaved();\n    var tmp;\n    var savedTmp = this.saved;\n\n    for (var i = 0; i < where.length; i++) {\n      tmp = savedTmp[where[i]];\n      savedTmp = tmp;\n    }\n\n    return savedTmp;\n  },\n  getSaved: function () {\n    return this.saved;\n  },\n  deleteSaved: function () {\n    this.saved = undefined;\n  }\n});\nMoralisWeb3.onConnect = (0, _bind.default)(_context30 = MoralisWeb3.on).call(_context30, MoralisWeb3, _InternalWeb3Provider.InternalWeb3Events.PROVIDER_CONNECT);\nMoralisWeb3.onDisconnect = (0, _bind.default)(_context31 = MoralisWeb3.on).call(_context31, MoralisWeb3, _InternalWeb3Provider.InternalWeb3Events.PROVIDER_DISCONNECT);\nMoralisWeb3.onWeb3Enabled = (0, _bind.default)(_context32 = MoralisWeb3.on).call(_context32, MoralisWeb3, _InternalWeb3Provider.InternalWeb3Events.WEB3_ENABLED);\nMoralisWeb3.onWeb3Deactivated = (0, _bind.default)(_context33 = MoralisWeb3.on).call(_context33, MoralisWeb3, _InternalWeb3Provider.InternalWeb3Events.WEB3_DEACTIVATED);\nMoralisWeb3.onChainChanged = (0, _bind.default)(_context34 = MoralisWeb3.on).call(_context34, MoralisWeb3, _InternalWeb3Provider.InternalWeb3Events.CHAIN_CHANGED);\nMoralisWeb3.onAccountChanged = (0, _bind.default)(_context35 = MoralisWeb3.on).call(_context35, MoralisWeb3, _InternalWeb3Provider.InternalWeb3Events.ACCOUNT_CHANGED);\nvar _default = MoralisWeb3;\nexports.default = _default;"],"mappings":"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"},"metadata":{},"sourceType":"script"}