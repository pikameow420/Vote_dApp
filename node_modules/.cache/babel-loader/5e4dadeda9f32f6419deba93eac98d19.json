{"ast":null,"code":"import { LOGIN_PROVIDER } from '@toruslabs/openlogin';\nimport { CHAIN_NAMESPACES, SOLANA_ADAPTERS, EVM_ADAPTERS, getChainConfig, WALLET_ADAPTERS, ADAPTER_CATEGORY, ADAPTER_STATUS, ADAPTER_EVENTS } from '@web3auth/base';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport { Web3AuthCore } from '@web3auth/core';\nimport LoginModal, { LOGIN_MODAL_EVENTS } from '@web3auth/ui';\nimport log from 'loglevel';\nconst defaultSolanaDappModalConfig = {\n  chainNamespace: CHAIN_NAMESPACES.SOLANA,\n  adapters: {\n    [SOLANA_ADAPTERS.TORUS_SOLANA]: {\n      label: \"Torus Solana Wallet\",\n      showOnModal: true,\n      showOnMobile: true,\n      showOnDesktop: true\n    },\n    [SOLANA_ADAPTERS.OPENLOGIN]: {\n      label: \"OpenLogin\",\n      showOnModal: true,\n      showOnMobile: true,\n      showOnDesktop: true\n    },\n    [SOLANA_ADAPTERS.PHANTOM]: {\n      label: \"Phantom\",\n      showOnModal: true,\n      showOnMobile: true,\n      showOnDesktop: true\n    }\n  }\n};\nconst defaultEvmDappModalConfig = {\n  chainNamespace: CHAIN_NAMESPACES.EIP155,\n  adapters: {\n    [EVM_ADAPTERS.TORUS_EVM]: {\n      label: \"Torus Wallet\",\n      showOnModal: true,\n      showOnMobile: true,\n      showOnDesktop: true\n    },\n    [EVM_ADAPTERS.METAMASK]: {\n      label: \"MetaMask\",\n      showOnModal: true,\n      showOnMobile: true,\n      showOnDesktop: true\n    },\n    [EVM_ADAPTERS.OPENLOGIN]: {\n      label: \"OpenLogin\",\n      showOnModal: true,\n      showOnMobile: true,\n      showOnDesktop: true\n    },\n    [EVM_ADAPTERS.WALLET_CONNECT_V1]: {\n      label: \"Wallet Connect\",\n      showOnModal: true,\n      showOnMobile: true,\n      showOnDesktop: true\n    }\n  }\n};\nconst defaultSolanaWalletModalConfig = {\n  chainNamespace: CHAIN_NAMESPACES.SOLANA,\n  adapters: {\n    [SOLANA_ADAPTERS.OPENLOGIN]: {\n      label: \"OpenLogin\",\n      showOnModal: true,\n      showOnMobile: true,\n      showOnDesktop: true\n    }\n  }\n};\nconst defaultEvmWalletModalConfig = {\n  chainNamespace: CHAIN_NAMESPACES.EIP155,\n  adapters: {\n    [EVM_ADAPTERS.OPENLOGIN]: {\n      label: \"OpenLogin\",\n      showOnModal: true,\n      showOnMobile: true,\n      showOnDesktop: true\n    }\n  }\n};\nconst OPENLOGIN_PROVIDERS = [LOGIN_PROVIDER.GOOGLE, LOGIN_PROVIDER.FACEBOOK, LOGIN_PROVIDER.TWITTER, LOGIN_PROVIDER.REDDIT, LOGIN_PROVIDER.DISCORD, LOGIN_PROVIDER.TWITCH, LOGIN_PROVIDER.APPLE, LOGIN_PROVIDER.LINE, LOGIN_PROVIDER.GITHUB, LOGIN_PROVIDER.KAKAO, LOGIN_PROVIDER.LINKEDIN, LOGIN_PROVIDER.WEIBO, LOGIN_PROVIDER.WECHAT, LOGIN_PROVIDER.EMAIL_PASSWORDLESS];\nfunction ownKeys$2(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread$2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys$2(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$2(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nconst getDefaultAdapterModule = async params => {\n  const {\n    name,\n    customChainConfig,\n    clientId\n  } = params;\n  if (!Object.values(CHAIN_NAMESPACES).includes(customChainConfig.chainNamespace)) throw new Error(\"Invalid chainNamespace: \".concat(customChainConfig.chainNamespace));\n  const finalChainConfig = _objectSpread$2(_objectSpread$2({}, getChainConfig(customChainConfig.chainNamespace, customChainConfig === null || customChainConfig === void 0 ? void 0 : customChainConfig.chainId)), customChainConfig || {});\n  if (name === WALLET_ADAPTERS.TORUS_EVM) {\n    const {\n      TorusWalletAdapter\n    } = await import('@web3auth/torus-evm-adapter');\n    const adapter = new TorusWalletAdapter({\n      chainConfig: finalChainConfig\n    });\n    return adapter;\n  } else if (name === WALLET_ADAPTERS.TORUS_SOLANA) {\n    const {\n      SolanaWalletAdapter\n    } = await import('@web3auth/torus-solana-adapter');\n    const adapter = new SolanaWalletAdapter({\n      chainConfig: finalChainConfig\n    });\n    return adapter;\n  } else if (name === WALLET_ADAPTERS.METAMASK) {\n    const {\n      MetamaskAdapter\n    } = await import('@web3auth/metamask-adapter');\n    const adapter = new MetamaskAdapter({\n      chainConfig: finalChainConfig\n    });\n    return adapter;\n  } else if (name === WALLET_ADAPTERS.PHANTOM) {\n    const {\n      PhantomAdapter\n    } = await import('@web3auth/phantom-adapter');\n    const adapter = new PhantomAdapter({\n      chainConfig: finalChainConfig\n    });\n    return adapter;\n  } else if (name === WALLET_ADAPTERS.WALLET_CONNECT_V1) {\n    const {\n      WalletConnectV1Adapter\n    } = await import('@web3auth/wallet-connect-v1-adapter');\n    const adapter = new WalletConnectV1Adapter({\n      chainConfig: finalChainConfig\n    });\n    return adapter;\n  } else if (name === WALLET_ADAPTERS.OPENLOGIN) {\n    const {\n      OpenloginAdapter,\n      getOpenloginDefaultOptions\n    } = await import('@web3auth/openlogin-adapter');\n    const defaultOptions = getOpenloginDefaultOptions(customChainConfig.chainNamespace, customChainConfig === null || customChainConfig === void 0 ? void 0 : customChainConfig.chainId);\n    const adapter = new OpenloginAdapter(_objectSpread$2(_objectSpread$2({}, defaultOptions), {}, {\n      chainConfig: _objectSpread$2(_objectSpread$2({}, defaultOptions.chainConfig || {}), finalChainConfig),\n      adapterSettings: _objectSpread$2(_objectSpread$2({}, defaultOptions.adapterSettings), {}, {\n        clientId\n      })\n    }));\n    return adapter;\n  }\n  throw new Error(\"Invalid wallet adapter name\");\n};\nfunction ownKeys$1(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread$1(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys$1(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$1(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nconst getAdapterSocialLogins = function (adapterName, adapter) {\n  let loginMethodsConfig = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const finalLoginMethodsConfig = {};\n  if (adapterName === WALLET_ADAPTERS.OPENLOGIN) {\n    OPENLOGIN_PROVIDERS.forEach(loginMethod => {\n      const currentLoginMethodConfig = loginMethodsConfig[loginMethod] || {\n        name: loginMethod,\n        showOnMobile: true,\n        showOnModal: true,\n        showOnDesktop: true\n      };\n      finalLoginMethodsConfig[loginMethod] = _objectSpread$1({}, currentLoginMethodConfig);\n      log.debug(\"OpenLogin login method ui config\", finalLoginMethodsConfig);\n    });\n  } else {\n    throw new Error(\"\".concat(adapterName, \" is not a valid adapter\"));\n  }\n  return finalLoginMethodsConfig;\n};\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nlog.enableAll();\nlog.setLevel(\"debug\");\nclass Web3Auth extends Web3AuthCore {\n  constructor(options) {\n    var _this$options$uiConfi, _this$options$uiConfi2;\n    super(options);\n    _defineProperty(this, \"loginModal\", void 0);\n    _defineProperty(this, \"options\", void 0);\n    _defineProperty(this, \"modalConfig\", defaultEvmDappModalConfig);\n    this.options = _objectSpread({}, options);\n    const providedChainConfig = this.options.chainConfig;\n    if (providedChainConfig.chainNamespace === CHAIN_NAMESPACES.SOLANA) {\n      if (options.authMode === \"WALLET\") {\n        // default config for solana wallet modal\n        this.modalConfig = defaultSolanaWalletModalConfig;\n      } else {\n        // default config for solana dapp modal\n        this.modalConfig = defaultSolanaDappModalConfig;\n      }\n    } else if (providedChainConfig.chainNamespace === CHAIN_NAMESPACES.EIP155) {\n      if (options.authMode === \"WALLET\") {\n        // default config for evm wallet modal\n        this.modalConfig = defaultEvmWalletModalConfig;\n      } else {\n        // default config for evm dapp modal\n        this.modalConfig = defaultEvmDappModalConfig;\n      }\n    } else {\n      throw new Error(\"Invalid chainNamespace provided: \".concat(providedChainConfig.chainNamespace));\n    }\n    this.loginModal = new LoginModal({\n      theme: (_this$options$uiConfi = this.options.uiConfig) === null || _this$options$uiConfi === void 0 ? void 0 : _this$options$uiConfi.theme,\n      appLogo: ((_this$options$uiConfi2 = this.options.uiConfig) === null || _this$options$uiConfi2 === void 0 ? void 0 : _this$options$uiConfi2.appLogo) || \"\",\n      version: \"\",\n      adapterListener: this\n    });\n    this.subscribeToLoginModalEvents();\n  }\n  async initModal(params) {\n    super.checkInitRequirements();\n    await this.loginModal.initModal();\n    const providedChainConfig = this.options.chainConfig; // merge default adapters with the custom configured adapters.\n\n    const allAdapters = [...new Set([...Object.keys(this.modalConfig.adapters || {}), ...Object.keys(this.walletAdapters)])];\n    const adapterConfigurationPromises = allAdapters.map(async adapterName => {\n      var _this$modalConfig$ada, _params$modalConfig, _this$modalConfig$ada2, _this$modalConfig$ada3;\n\n      // start with the default config of adapter.\n      let adapterConfig = ((_this$modalConfig$ada = this.modalConfig.adapters) === null || _this$modalConfig$ada === void 0 ? void 0 : _this$modalConfig$ada[adapterName]) || {\n        label: adapterName,\n        showOnModal: true,\n        showOnMobile: true,\n        showOnDesktop: true\n      }; // override the default config of adapter if some config is being provided by the user.\n\n      if (params !== null && params !== void 0 && (_params$modalConfig = params.modalConfig) !== null && _params$modalConfig !== void 0 && _params$modalConfig[adapterName]) {\n        adapterConfig = _objectSpread(_objectSpread({}, adapterConfig), params.modalConfig[adapterName]);\n      }\n      this.modalConfig.adapters[adapterName] = adapterConfig; // check if adapter is configured/added by user and exist in walletAdapters map.\n\n      const adapter = this.walletAdapters[adapterName];\n      log.debug(\"adapter config\", adapterName, (_this$modalConfig$ada2 = this.modalConfig.adapters) === null || _this$modalConfig$ada2 === void 0 ? void 0 : _this$modalConfig$ada2[adapterName].showOnModal); // if adapter is not custom configured then check if it is available in default adapters.\n      // and if adapter is not hidden by user\n\n      if (!adapter && (_this$modalConfig$ada3 = this.modalConfig.adapters) !== null && _this$modalConfig$ada3 !== void 0 && _this$modalConfig$ada3[adapterName].showOnModal) {\n        // if adapter is not configured and some default configuration is available, use it.\n        const ad = await getDefaultAdapterModule({\n          name: adapterName,\n          customChainConfig: this.options.chainConfig,\n          clientId: this.options.clientId\n        });\n        this.walletAdapters[adapterName] = ad;\n        return adapterName;\n      } else if ((adapter === null || adapter === void 0 ? void 0 : adapter.type) === ADAPTER_CATEGORY.IN_APP || (adapter === null || adapter === void 0 ? void 0 : adapter.type) === ADAPTER_CATEGORY.EXTERNAL || adapterName === this.cachedAdapter) {\n        var _this$modalConfig$ada4;\n        if (!((_this$modalConfig$ada4 = this.modalConfig.adapters) !== null && _this$modalConfig$ada4 !== void 0 && _this$modalConfig$ada4[adapterName].showOnModal)) return; // add client id to openlogin adapter, same web3auth client id can be used in openlogin.\n        // this id is being overridden if user is also passing client id in openlogin's adapter constructor.\n\n        if (adapterName === WALLET_ADAPTERS.OPENLOGIN) {\n          this.walletAdapters[adapterName].setAdapterSettings({\n            clientId: this.options.clientId\n          });\n        } // if adapter doesn't have any chainConfig then we will set the chainConfig based of passed chainNamespace\n        // and chainNamespace.\n\n        if (!adapter.chainConfigProxy) {\n          var _this$coreOptions$cha;\n          const chainConfig = _objectSpread(_objectSpread({}, getChainConfig(providedChainConfig.chainNamespace, (_this$coreOptions$cha = this.coreOptions.chainConfig) === null || _this$coreOptions$cha === void 0 ? void 0 : _this$coreOptions$cha.chainId)), this.coreOptions.chainConfig);\n          this.walletAdapters[adapterName].setChainConfig(chainConfig);\n        }\n        return adapterName;\n      }\n    });\n    const adapterNames = await Promise.all(adapterConfigurationPromises);\n    const hasInAppWallets = Object.values(this.walletAdapters).some(adapter => {\n      if (adapter.type !== ADAPTER_CATEGORY.IN_APP) return false;\n      if (this.modalConfig.adapters[adapter.name].showOnModal !== true) return false;\n      if (!this.modalConfig.adapters[adapter.name].loginMethods) return true;\n      if (Object.values(this.modalConfig.adapters[adapter.name].loginMethods).some(method => method.showOnModal)) return true;\n      return false;\n    });\n    log.debug(hasInAppWallets, this.walletAdapters, \"hasInAppWallets\"); // Now, initialize the adapters.\n\n    const initPromises = adapterNames.map(async adapterName => {\n      if (!adapterName) return;\n      try {\n        const adapter = this.walletAdapters[adapterName]; // only initialize a external adapter here if it is a cached adapter.\n\n        if (this.cachedAdapter !== adapterName && adapter.type === ADAPTER_CATEGORY.EXTERNAL) {\n          return;\n        } // in-app wallets or cached wallet (being connected or already connected) are initialized first.\n        // if adapter is configured thn only initialize in app or cached adapter.\n        // external wallets are initialized on INIT_EXTERNAL_WALLET event.\n\n        this.subscribeToAdapterEvents(adapter);\n        if (adapter.status === ADAPTER_STATUS.NOT_READY) await adapter.init({\n          autoConnect: this.cachedAdapter === adapterName\n        }); // note: not adding cachedWallet to modal if it is external wallet.\n        // adding it later if no in-app wallets are available.\n\n        if (adapter.type === ADAPTER_CATEGORY.IN_APP) {\n          this.initializeInAppWallet(adapterName);\n        }\n      } catch (error) {\n        log.error(error, \"error while initializing adapter\");\n      }\n    });\n    this.status = ADAPTER_STATUS.READY;\n    await Promise.all(initPromises);\n    const hasExternalWallets = allAdapters.some(adapterName => {\n      var _this$walletAdapters$, _this$modalConfig$ada5;\n      return ((_this$walletAdapters$ = this.walletAdapters[adapterName]) === null || _this$walletAdapters$ === void 0 ? void 0 : _this$walletAdapters$.type) === ADAPTER_CATEGORY.EXTERNAL && ((_this$modalConfig$ada5 = this.modalConfig.adapters) === null || _this$modalConfig$ada5 === void 0 ? void 0 : _this$modalConfig$ada5[adapterName].showOnModal);\n    });\n    if (hasExternalWallets) {\n      this.loginModal.initExternalWalletContainer();\n    } // variable to check if we have any in app wallets\n    // currently all default in app and external wallets can be hidden or shown based on config.\n\n    if (!hasInAppWallets && hasExternalWallets) {\n      // if no in app wallet is available then initialize external wallets in modal\n      await this.initExternalWalletAdapters(false, {\n        showExternalWalletsOnly: true\n      });\n    }\n  }\n  async connect() {\n    // if (!this.loginModal.initialized) throw new Error(\"Login modal is not initialized\");\n    // if already connected return provider\n    if (this.provider) return this.provider;\n    this.loginModal.open();\n    return new Promise((resolve, reject) => {\n      this.once(ADAPTER_EVENTS.CONNECTED, () => {\n        return resolve(this.provider);\n      });\n      this.once(ADAPTER_EVENTS.ERRORED, err => {\n        return reject(err);\n      });\n    });\n  }\n  async initExternalWalletAdapters(externalWalletsInitialized, options) {\n    if (externalWalletsInitialized) return;\n    const adaptersConfig = {};\n    const adaptersData = {};\n    const adapterPromises = Object.keys(this.walletAdapters).map(async adapterName => {\n      try {\n        const adapter = this.walletAdapters[adapterName];\n        if ((adapter === null || adapter === void 0 ? void 0 : adapter.type) === ADAPTER_CATEGORY.EXTERNAL) {\n          log.debug(\"init external wallet\", this.cachedAdapter, adapterName);\n          this.subscribeToAdapterEvents(adapter); // we are not initializing cached adapter here as it is already being initialized in initModal before.\n\n          if (this.cachedAdapter === adapterName) {\n            return;\n          }\n          if (adapter.status === ADAPTER_STATUS.NOT_READY) await adapter.init({\n            autoConnect: this.cachedAdapter === adapterName\n          });\n          adaptersConfig[adapterName] = this.modalConfig.adapters[adapterName];\n          adaptersData[adapterName] = adapter.adapterData || {};\n          return adapterName;\n        }\n      } catch (error) {\n        log.error(error, \"error while initializing adapter\");\n      }\n    });\n    const adapterInitResults = await Promise.all(adapterPromises);\n    const finalAdaptersConfig = {};\n    adapterInitResults.forEach(result => {\n      if (result) {\n        finalAdaptersConfig[result] = adaptersConfig[result];\n      }\n    });\n    this.loginModal.addWalletLogins(finalAdaptersConfig, {\n      showExternalWalletsOnly: !!(options !== null && options !== void 0 && options.showExternalWalletsOnly)\n    });\n  }\n  initializeInAppWallet(adapterName) {\n    log.info(\"adapterInitResults\", adapterName);\n    if (this.walletAdapters[adapterName].type === ADAPTER_CATEGORY.IN_APP) {\n      var _this$modalConfig$ada6, _this$options$uiConfi3;\n      this.loginModal.addSocialLogins(adapterName, getAdapterSocialLogins(adapterName, this.walletAdapters[adapterName], (_this$modalConfig$ada6 = this.modalConfig.adapters[adapterName]) === null || _this$modalConfig$ada6 === void 0 ? void 0 : _this$modalConfig$ada6.loginMethods), ((_this$options$uiConfi3 = this.options.uiConfig) === null || _this$options$uiConfi3 === void 0 ? void 0 : _this$options$uiConfi3.loginMethodsOrder) || OPENLOGIN_PROVIDERS);\n    }\n  }\n  subscribeToLoginModalEvents() {\n    this.loginModal.on(LOGIN_MODAL_EVENTS.LOGIN, async params => {\n      try {\n        await this.connectTo(params.adapter, params.loginParams);\n      } catch (error) {\n        log.error(\"Error while connecting to adapter: \".concat(params.adapter), error);\n      }\n    });\n    this.loginModal.on(LOGIN_MODAL_EVENTS.INIT_EXTERNAL_WALLETS, async params => {\n      await this.initExternalWalletAdapters(params.externalWalletsInitialized);\n    });\n    this.loginModal.on(LOGIN_MODAL_EVENTS.DISCONNECT, async () => {\n      try {\n        await this.logout();\n      } catch (error) {\n        log.error(\"Error while disconnecting\", error);\n      }\n    });\n    this.loginModal.on(LOGIN_MODAL_EVENTS.MODAL_VISIBILITY, async visibility => {\n      var _this$walletAdapters$2;\n      log.debug(\"is login modal visible\", visibility);\n      this.emit(LOGIN_MODAL_EVENTS.MODAL_VISIBILITY, visibility);\n      const walletConnectStatus = (_this$walletAdapters$2 = this.walletAdapters[WALLET_ADAPTERS.WALLET_CONNECT_V1]) === null || _this$walletAdapters$2 === void 0 ? void 0 : _this$walletAdapters$2.status;\n      if (visibility && walletConnectStatus === ADAPTER_STATUS.READY) {\n        // refreshing session for wallet connect whenever modal is opened.\n        try {\n          this.walletAdapters[WALLET_ADAPTERS.WALLET_CONNECT_V1].connect();\n        } catch (error) {\n          log.error(\"Error while disconnecting to wallet connect in core\", error);\n        }\n      }\n    });\n  }\n}\nexport { OPENLOGIN_PROVIDERS, Web3Auth, defaultEvmDappModalConfig, defaultEvmWalletModalConfig, defaultSolanaDappModalConfig, defaultSolanaWalletModalConfig };","map":{"version":3,"sources":["../src/config.ts","../src/default.ts","../src/utils.ts","../src/modalManager.ts"],"names":["defaultSolanaDappModalConfig","chainNamespace","CHAIN_NAMESPACES","SOLANA","adapters","SOLANA_ADAPTERS","TORUS_SOLANA","label","showOnModal","showOnMobile","showOnDesktop","OPENLOGIN","PHANTOM","defaultEvmDappModalConfig","EIP155","EVM_ADAPTERS","TORUS_EVM","METAMASK","WALLET_CONNECT_V1","defaultSolanaWalletModalConfig","defaultEvmWalletModalConfig","OPENLOGIN_PROVIDERS","LOGIN_PROVIDER","GOOGLE","FACEBOOK","TWITTER","REDDIT","DISCORD","TWITCH","APPLE","LINE","GITHUB","KAKAO","LINKEDIN","WEIBO","WECHAT","EMAIL_PASSWORDLESS","getDefaultAdapterModule","params","name","customChainConfig","clientId","Object","values","includes","Error","finalChainConfig","getChainConfig","chainId","WALLET_ADAPTERS","TorusWalletAdapter","adapter","chainConfig","SolanaWalletAdapter","MetamaskAdapter","PhantomAdapter","WalletConnectV1Adapter","OpenloginAdapter","getOpenloginDefaultOptions","defaultOptions","adapterSettings","getAdapterSocialLogins","adapterName","loginMethodsConfig","finalLoginMethodsConfig","forEach","loginMethod","currentLoginMethodConfig","log","debug","enableAll","setLevel","Web3Auth","Web3AuthCore","constructor","options","providedChainConfig","authMode","modalConfig","loginModal","LoginModal","theme","uiConfig","appLogo","version","adapterListener","subscribeToLoginModalEvents","initModal","checkInitRequirements","allAdapters","Set","keys","walletAdapters","adapterConfigurationPromises","map","adapterConfig","ad","type","ADAPTER_CATEGORY","IN_APP","EXTERNAL","cachedAdapter","setAdapterSettings","chainConfigProxy","coreOptions","setChainConfig","adapterNames","Promise","all","hasInAppWallets","some","loginMethods","method","initPromises","subscribeToAdapterEvents","status","ADAPTER_STATUS","NOT_READY","init","autoConnect","initializeInAppWallet","error","READY","hasExternalWallets","initExternalWalletContainer","initExternalWalletAdapters","showExternalWalletsOnly","connect","provider","open","resolve","reject","once","ADAPTER_EVENTS","CONNECTED","ERRORED","err","externalWalletsInitialized","adaptersConfig","adaptersData","adapterPromises","adapterData","adapterInitResults","finalAdaptersConfig","result","addWalletLogins","info","addSocialLogins","loginMethodsOrder","on","LOGIN_MODAL_EVENTS","LOGIN","connectTo","loginParams","INIT_EXTERNAL_WALLETS","DISCONNECT","logout","MODAL_VISIBILITY","visibility","emit","walletConnectStatus"],"mappings":"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","sourcesContent":["import { LOGIN_PROVIDER } from '@toruslabs/openlogin';\nimport { CHAIN_NAMESPACES, SOLANA_ADAPTERS, EVM_ADAPTERS, getChainConfig, WALLET_ADAPTERS, ADAPTER_CATEGORY, ADAPTER_STATUS, ADAPTER_EVENTS } from '@web3auth/base';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nimport { Web3AuthCore } from '@web3auth/core';\nimport LoginModal, { LOGIN_MODAL_EVENTS } from '@web3auth/ui';\nimport log from 'loglevel';\n\nconst defaultSolanaDappModalConfig = {\n  chainNamespace: CHAIN_NAMESPACES.SOLANA,\n  adapters: {\n    [SOLANA_ADAPTERS.TORUS_SOLANA]: {\n      label: \"Torus Solana Wallet\",\n      showOnModal: true,\n      showOnMobile: true,\n      showOnDesktop: true\n    },\n    [SOLANA_ADAPTERS.OPENLOGIN]: {\n      label: \"OpenLogin\",\n      showOnModal: true,\n      showOnMobile: true,\n      showOnDesktop: true\n    },\n    [SOLANA_ADAPTERS.PHANTOM]: {\n      label: \"Phantom\",\n      showOnModal: true,\n      showOnMobile: true,\n      showOnDesktop: true\n    }\n  }\n};\nconst defaultEvmDappModalConfig = {\n  chainNamespace: CHAIN_NAMESPACES.EIP155,\n  adapters: {\n    [EVM_ADAPTERS.TORUS_EVM]: {\n      label: \"Torus Wallet\",\n      showOnModal: true,\n      showOnMobile: true,\n      showOnDesktop: true\n    },\n    [EVM_ADAPTERS.METAMASK]: {\n      label: \"MetaMask\",\n      showOnModal: true,\n      showOnMobile: true,\n      showOnDesktop: true\n    },\n    [EVM_ADAPTERS.OPENLOGIN]: {\n      label: \"OpenLogin\",\n      showOnModal: true,\n      showOnMobile: true,\n      showOnDesktop: true\n    },\n    [EVM_ADAPTERS.WALLET_CONNECT_V1]: {\n      label: \"Wallet Connect\",\n      showOnModal: true,\n      showOnMobile: true,\n      showOnDesktop: true\n    }\n  }\n};\nconst defaultSolanaWalletModalConfig = {\n  chainNamespace: CHAIN_NAMESPACES.SOLANA,\n  adapters: {\n    [SOLANA_ADAPTERS.OPENLOGIN]: {\n      label: \"OpenLogin\",\n      showOnModal: true,\n      showOnMobile: true,\n      showOnDesktop: true\n    }\n  }\n};\nconst defaultEvmWalletModalConfig = {\n  chainNamespace: CHAIN_NAMESPACES.EIP155,\n  adapters: {\n    [EVM_ADAPTERS.OPENLOGIN]: {\n      label: \"OpenLogin\",\n      showOnModal: true,\n      showOnMobile: true,\n      showOnDesktop: true\n    }\n  }\n};\nconst OPENLOGIN_PROVIDERS = [LOGIN_PROVIDER.GOOGLE, LOGIN_PROVIDER.FACEBOOK, LOGIN_PROVIDER.TWITTER, LOGIN_PROVIDER.REDDIT, LOGIN_PROVIDER.DISCORD, LOGIN_PROVIDER.TWITCH, LOGIN_PROVIDER.APPLE, LOGIN_PROVIDER.LINE, LOGIN_PROVIDER.GITHUB, LOGIN_PROVIDER.KAKAO, LOGIN_PROVIDER.LINKEDIN, LOGIN_PROVIDER.WEIBO, LOGIN_PROVIDER.WECHAT, LOGIN_PROVIDER.EMAIL_PASSWORDLESS];\n\nfunction ownKeys$2(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$2(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$2(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nconst getDefaultAdapterModule = async params => {\n  const {\n    name,\n    customChainConfig,\n    clientId\n  } = params;\n  if (!Object.values(CHAIN_NAMESPACES).includes(customChainConfig.chainNamespace)) throw new Error(\"Invalid chainNamespace: \".concat(customChainConfig.chainNamespace));\n\n  const finalChainConfig = _objectSpread$2(_objectSpread$2({}, getChainConfig(customChainConfig.chainNamespace, customChainConfig === null || customChainConfig === void 0 ? void 0 : customChainConfig.chainId)), customChainConfig || {});\n\n  if (name === WALLET_ADAPTERS.TORUS_EVM) {\n    const {\n      TorusWalletAdapter\n    } = await import('@web3auth/torus-evm-adapter');\n    const adapter = new TorusWalletAdapter({\n      chainConfig: finalChainConfig\n    });\n    return adapter;\n  } else if (name === WALLET_ADAPTERS.TORUS_SOLANA) {\n    const {\n      SolanaWalletAdapter\n    } = await import('@web3auth/torus-solana-adapter');\n    const adapter = new SolanaWalletAdapter({\n      chainConfig: finalChainConfig\n    });\n    return adapter;\n  } else if (name === WALLET_ADAPTERS.METAMASK) {\n    const {\n      MetamaskAdapter\n    } = await import('@web3auth/metamask-adapter');\n    const adapter = new MetamaskAdapter({\n      chainConfig: finalChainConfig\n    });\n    return adapter;\n  } else if (name === WALLET_ADAPTERS.PHANTOM) {\n    const {\n      PhantomAdapter\n    } = await import('@web3auth/phantom-adapter');\n    const adapter = new PhantomAdapter({\n      chainConfig: finalChainConfig\n    });\n    return adapter;\n  } else if (name === WALLET_ADAPTERS.WALLET_CONNECT_V1) {\n    const {\n      WalletConnectV1Adapter\n    } = await import('@web3auth/wallet-connect-v1-adapter');\n    const adapter = new WalletConnectV1Adapter({\n      chainConfig: finalChainConfig\n    });\n    return adapter;\n  } else if (name === WALLET_ADAPTERS.OPENLOGIN) {\n    const {\n      OpenloginAdapter,\n      getOpenloginDefaultOptions\n    } = await import('@web3auth/openlogin-adapter');\n    const defaultOptions = getOpenloginDefaultOptions(customChainConfig.chainNamespace, customChainConfig === null || customChainConfig === void 0 ? void 0 : customChainConfig.chainId);\n    const adapter = new OpenloginAdapter(_objectSpread$2(_objectSpread$2({}, defaultOptions), {}, {\n      chainConfig: _objectSpread$2(_objectSpread$2({}, defaultOptions.chainConfig || {}), finalChainConfig),\n      adapterSettings: _objectSpread$2(_objectSpread$2({}, defaultOptions.adapterSettings), {}, {\n        clientId\n      })\n    }));\n    return adapter;\n  }\n\n  throw new Error(\"Invalid wallet adapter name\");\n};\n\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys$1(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nconst getAdapterSocialLogins = function (adapterName, adapter) {\n  let loginMethodsConfig = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const finalLoginMethodsConfig = {};\n\n  if (adapterName === WALLET_ADAPTERS.OPENLOGIN) {\n    OPENLOGIN_PROVIDERS.forEach(loginMethod => {\n      const currentLoginMethodConfig = loginMethodsConfig[loginMethod] || {\n        name: loginMethod,\n        showOnMobile: true,\n        showOnModal: true,\n        showOnDesktop: true\n      };\n      finalLoginMethodsConfig[loginMethod] = _objectSpread$1({}, currentLoginMethodConfig);\n      log.debug(\"OpenLogin login method ui config\", finalLoginMethodsConfig);\n    });\n  } else {\n    throw new Error(\"\".concat(adapterName, \" is not a valid adapter\"));\n  }\n\n  return finalLoginMethodsConfig;\n};\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nlog.enableAll();\nlog.setLevel(\"debug\");\nclass Web3Auth extends Web3AuthCore {\n  constructor(options) {\n    var _this$options$uiConfi, _this$options$uiConfi2;\n\n    super(options);\n\n    _defineProperty(this, \"loginModal\", void 0);\n\n    _defineProperty(this, \"options\", void 0);\n\n    _defineProperty(this, \"modalConfig\", defaultEvmDappModalConfig);\n\n    this.options = _objectSpread({}, options);\n    const providedChainConfig = this.options.chainConfig;\n\n    if (providedChainConfig.chainNamespace === CHAIN_NAMESPACES.SOLANA) {\n      if (options.authMode === \"WALLET\") {\n        // default config for solana wallet modal\n        this.modalConfig = defaultSolanaWalletModalConfig;\n      } else {\n        // default config for solana dapp modal\n        this.modalConfig = defaultSolanaDappModalConfig;\n      }\n    } else if (providedChainConfig.chainNamespace === CHAIN_NAMESPACES.EIP155) {\n      if (options.authMode === \"WALLET\") {\n        // default config for evm wallet modal\n        this.modalConfig = defaultEvmWalletModalConfig;\n      } else {\n        // default config for evm dapp modal\n        this.modalConfig = defaultEvmDappModalConfig;\n      }\n    } else {\n      throw new Error(\"Invalid chainNamespace provided: \".concat(providedChainConfig.chainNamespace));\n    }\n\n    this.loginModal = new LoginModal({\n      theme: (_this$options$uiConfi = this.options.uiConfig) === null || _this$options$uiConfi === void 0 ? void 0 : _this$options$uiConfi.theme,\n      appLogo: ((_this$options$uiConfi2 = this.options.uiConfig) === null || _this$options$uiConfi2 === void 0 ? void 0 : _this$options$uiConfi2.appLogo) || \"\",\n      version: \"\",\n      adapterListener: this\n    });\n    this.subscribeToLoginModalEvents();\n  }\n\n  async initModal(params) {\n    super.checkInitRequirements();\n    await this.loginModal.initModal();\n    const providedChainConfig = this.options.chainConfig; // merge default adapters with the custom configured adapters.\n\n    const allAdapters = [...new Set([...Object.keys(this.modalConfig.adapters || {}), ...Object.keys(this.walletAdapters)])];\n    const adapterConfigurationPromises = allAdapters.map(async adapterName => {\n      var _this$modalConfig$ada, _params$modalConfig, _this$modalConfig$ada2, _this$modalConfig$ada3;\n\n      // start with the default config of adapter.\n      let adapterConfig = ((_this$modalConfig$ada = this.modalConfig.adapters) === null || _this$modalConfig$ada === void 0 ? void 0 : _this$modalConfig$ada[adapterName]) || {\n        label: adapterName,\n        showOnModal: true,\n        showOnMobile: true,\n        showOnDesktop: true\n      }; // override the default config of adapter if some config is being provided by the user.\n\n      if (params !== null && params !== void 0 && (_params$modalConfig = params.modalConfig) !== null && _params$modalConfig !== void 0 && _params$modalConfig[adapterName]) {\n        adapterConfig = _objectSpread(_objectSpread({}, adapterConfig), params.modalConfig[adapterName]);\n      }\n\n      this.modalConfig.adapters[adapterName] = adapterConfig; // check if adapter is configured/added by user and exist in walletAdapters map.\n\n      const adapter = this.walletAdapters[adapterName];\n      log.debug(\"adapter config\", adapterName, (_this$modalConfig$ada2 = this.modalConfig.adapters) === null || _this$modalConfig$ada2 === void 0 ? void 0 : _this$modalConfig$ada2[adapterName].showOnModal); // if adapter is not custom configured then check if it is available in default adapters.\n      // and if adapter is not hidden by user\n\n      if (!adapter && (_this$modalConfig$ada3 = this.modalConfig.adapters) !== null && _this$modalConfig$ada3 !== void 0 && _this$modalConfig$ada3[adapterName].showOnModal) {\n        // if adapter is not configured and some default configuration is available, use it.\n        const ad = await getDefaultAdapterModule({\n          name: adapterName,\n          customChainConfig: this.options.chainConfig,\n          clientId: this.options.clientId\n        });\n        this.walletAdapters[adapterName] = ad;\n        return adapterName;\n      } else if ((adapter === null || adapter === void 0 ? void 0 : adapter.type) === ADAPTER_CATEGORY.IN_APP || (adapter === null || adapter === void 0 ? void 0 : adapter.type) === ADAPTER_CATEGORY.EXTERNAL || adapterName === this.cachedAdapter) {\n        var _this$modalConfig$ada4;\n\n        if (!((_this$modalConfig$ada4 = this.modalConfig.adapters) !== null && _this$modalConfig$ada4 !== void 0 && _this$modalConfig$ada4[adapterName].showOnModal)) return; // add client id to openlogin adapter, same web3auth client id can be used in openlogin.\n        // this id is being overridden if user is also passing client id in openlogin's adapter constructor.\n\n        if (adapterName === WALLET_ADAPTERS.OPENLOGIN) {\n          this.walletAdapters[adapterName].setAdapterSettings({\n            clientId: this.options.clientId\n          });\n        } // if adapter doesn't have any chainConfig then we will set the chainConfig based of passed chainNamespace\n        // and chainNamespace.\n\n\n        if (!adapter.chainConfigProxy) {\n          var _this$coreOptions$cha;\n\n          const chainConfig = _objectSpread(_objectSpread({}, getChainConfig(providedChainConfig.chainNamespace, (_this$coreOptions$cha = this.coreOptions.chainConfig) === null || _this$coreOptions$cha === void 0 ? void 0 : _this$coreOptions$cha.chainId)), this.coreOptions.chainConfig);\n\n          this.walletAdapters[adapterName].setChainConfig(chainConfig);\n        }\n\n        return adapterName;\n      }\n    });\n    const adapterNames = await Promise.all(adapterConfigurationPromises);\n    const hasInAppWallets = Object.values(this.walletAdapters).some(adapter => {\n      if (adapter.type !== ADAPTER_CATEGORY.IN_APP) return false;\n      if (this.modalConfig.adapters[adapter.name].showOnModal !== true) return false;\n      if (!this.modalConfig.adapters[adapter.name].loginMethods) return true;\n      if (Object.values(this.modalConfig.adapters[adapter.name].loginMethods).some(method => method.showOnModal)) return true;\n      return false;\n    });\n    log.debug(hasInAppWallets, this.walletAdapters, \"hasInAppWallets\"); // Now, initialize the adapters.\n\n    const initPromises = adapterNames.map(async adapterName => {\n      if (!adapterName) return;\n\n      try {\n        const adapter = this.walletAdapters[adapterName]; // only initialize a external adapter here if it is a cached adapter.\n\n        if (this.cachedAdapter !== adapterName && adapter.type === ADAPTER_CATEGORY.EXTERNAL) {\n          return;\n        } // in-app wallets or cached wallet (being connected or already connected) are initialized first.\n        // if adapter is configured thn only initialize in app or cached adapter.\n        // external wallets are initialized on INIT_EXTERNAL_WALLET event.\n\n\n        this.subscribeToAdapterEvents(adapter);\n        if (adapter.status === ADAPTER_STATUS.NOT_READY) await adapter.init({\n          autoConnect: this.cachedAdapter === adapterName\n        }); // note: not adding cachedWallet to modal if it is external wallet.\n        // adding it later if no in-app wallets are available.\n\n        if (adapter.type === ADAPTER_CATEGORY.IN_APP) {\n          this.initializeInAppWallet(adapterName);\n        }\n      } catch (error) {\n        log.error(error, \"error while initializing adapter\");\n      }\n    });\n    this.status = ADAPTER_STATUS.READY;\n    await Promise.all(initPromises);\n    const hasExternalWallets = allAdapters.some(adapterName => {\n      var _this$walletAdapters$, _this$modalConfig$ada5;\n\n      return ((_this$walletAdapters$ = this.walletAdapters[adapterName]) === null || _this$walletAdapters$ === void 0 ? void 0 : _this$walletAdapters$.type) === ADAPTER_CATEGORY.EXTERNAL && ((_this$modalConfig$ada5 = this.modalConfig.adapters) === null || _this$modalConfig$ada5 === void 0 ? void 0 : _this$modalConfig$ada5[adapterName].showOnModal);\n    });\n\n    if (hasExternalWallets) {\n      this.loginModal.initExternalWalletContainer();\n    } // variable to check if we have any in app wallets\n    // currently all default in app and external wallets can be hidden or shown based on config.\n\n\n    if (!hasInAppWallets && hasExternalWallets) {\n      // if no in app wallet is available then initialize external wallets in modal\n      await this.initExternalWalletAdapters(false, {\n        showExternalWalletsOnly: true\n      });\n    }\n  }\n\n  async connect() {\n    // if (!this.loginModal.initialized) throw new Error(\"Login modal is not initialized\");\n    // if already connected return provider\n    if (this.provider) return this.provider;\n    this.loginModal.open();\n    return new Promise((resolve, reject) => {\n      this.once(ADAPTER_EVENTS.CONNECTED, () => {\n        return resolve(this.provider);\n      });\n      this.once(ADAPTER_EVENTS.ERRORED, err => {\n        return reject(err);\n      });\n    });\n  }\n\n  async initExternalWalletAdapters(externalWalletsInitialized, options) {\n    if (externalWalletsInitialized) return;\n    const adaptersConfig = {};\n    const adaptersData = {};\n    const adapterPromises = Object.keys(this.walletAdapters).map(async adapterName => {\n      try {\n        const adapter = this.walletAdapters[adapterName];\n\n        if ((adapter === null || adapter === void 0 ? void 0 : adapter.type) === ADAPTER_CATEGORY.EXTERNAL) {\n          log.debug(\"init external wallet\", this.cachedAdapter, adapterName);\n          this.subscribeToAdapterEvents(adapter); // we are not initializing cached adapter here as it is already being initialized in initModal before.\n\n          if (this.cachedAdapter === adapterName) {\n            return;\n          }\n\n          if (adapter.status === ADAPTER_STATUS.NOT_READY) await adapter.init({\n            autoConnect: this.cachedAdapter === adapterName\n          });\n          adaptersConfig[adapterName] = this.modalConfig.adapters[adapterName];\n          adaptersData[adapterName] = adapter.adapterData || {};\n          return adapterName;\n        }\n      } catch (error) {\n        log.error(error, \"error while initializing adapter\");\n      }\n    });\n    const adapterInitResults = await Promise.all(adapterPromises);\n    const finalAdaptersConfig = {};\n    adapterInitResults.forEach(result => {\n      if (result) {\n        finalAdaptersConfig[result] = adaptersConfig[result];\n      }\n    });\n    this.loginModal.addWalletLogins(finalAdaptersConfig, {\n      showExternalWalletsOnly: !!(options !== null && options !== void 0 && options.showExternalWalletsOnly)\n    });\n  }\n\n  initializeInAppWallet(adapterName) {\n    log.info(\"adapterInitResults\", adapterName);\n\n    if (this.walletAdapters[adapterName].type === ADAPTER_CATEGORY.IN_APP) {\n      var _this$modalConfig$ada6, _this$options$uiConfi3;\n\n      this.loginModal.addSocialLogins(adapterName, getAdapterSocialLogins(adapterName, this.walletAdapters[adapterName], (_this$modalConfig$ada6 = this.modalConfig.adapters[adapterName]) === null || _this$modalConfig$ada6 === void 0 ? void 0 : _this$modalConfig$ada6.loginMethods), ((_this$options$uiConfi3 = this.options.uiConfig) === null || _this$options$uiConfi3 === void 0 ? void 0 : _this$options$uiConfi3.loginMethodsOrder) || OPENLOGIN_PROVIDERS);\n    }\n  }\n\n  subscribeToLoginModalEvents() {\n    this.loginModal.on(LOGIN_MODAL_EVENTS.LOGIN, async params => {\n      try {\n        await this.connectTo(params.adapter, params.loginParams);\n      } catch (error) {\n        log.error(\"Error while connecting to adapter: \".concat(params.adapter), error);\n      }\n    });\n    this.loginModal.on(LOGIN_MODAL_EVENTS.INIT_EXTERNAL_WALLETS, async params => {\n      await this.initExternalWalletAdapters(params.externalWalletsInitialized);\n    });\n    this.loginModal.on(LOGIN_MODAL_EVENTS.DISCONNECT, async () => {\n      try {\n        await this.logout();\n      } catch (error) {\n        log.error(\"Error while disconnecting\", error);\n      }\n    });\n    this.loginModal.on(LOGIN_MODAL_EVENTS.MODAL_VISIBILITY, async visibility => {\n      var _this$walletAdapters$2;\n\n      log.debug(\"is login modal visible\", visibility);\n      this.emit(LOGIN_MODAL_EVENTS.MODAL_VISIBILITY, visibility);\n      const walletConnectStatus = (_this$walletAdapters$2 = this.walletAdapters[WALLET_ADAPTERS.WALLET_CONNECT_V1]) === null || _this$walletAdapters$2 === void 0 ? void 0 : _this$walletAdapters$2.status;\n\n      if (visibility && walletConnectStatus === ADAPTER_STATUS.READY) {\n        // refreshing session for wallet connect whenever modal is opened.\n        try {\n          this.walletAdapters[WALLET_ADAPTERS.WALLET_CONNECT_V1].connect();\n        } catch (error) {\n          log.error(\"Error while disconnecting to wallet connect in core\", error);\n        }\n      }\n    });\n  }\n\n}\n\nexport { OPENLOGIN_PROVIDERS, Web3Auth, defaultEvmDappModalConfig, defaultEvmWalletModalConfig, defaultSolanaDappModalConfig, defaultSolanaWalletModalConfig };\n//# sourceMappingURL=web3auth.esm.js.map\n"]},"metadata":{},"sourceType":"module"}